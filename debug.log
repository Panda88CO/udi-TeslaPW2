2024-04-03 11:13:50,602 MainThread udi_interface      INFO     polylogger:set_basic_config: set_basic_config: enable=True level=30
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: UDI interface initializing
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: User=0021b90261b7_17
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: Home=/var/polyglot/pg3/ns/0021b90261b7_17
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: Node Server Path=/var/polyglot/pg3/ns/0021b90261b7_17
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: PG3INIT=eyJ1dWlkIjoiMDA6MjE6Yjk6MDI6NjE6YjciLCJwcm9maWxlTnVtIjoxNywibG9nTGV2ZWwiOiJERUJVRyIsInRva2VuIjoiZSZuKilNNEh3T1hQdklETCIsIm1xdHRIb3N0IjoibG9jYWxob3N0IiwibXF0dFBvcnQiOjg4ODMsInNlY3VyZSI6MSwiaXNQRzN4Ijp0cnVlLCJwZzNWZXJzaW9uIjoiMy4yLjIwIiwiaXN5VmVyc2lvbiI6IjUuOC4wIiwiZWRpdGlvbiI6IlN0YW5kYXJkIn0=
2024-04-03 11:13:50,603 MainThread udi_interface      INFO     __init__:<module>: Loading interface module
2024-04-03 11:13:50,654 MainThread udi_interface      INFO     interface:<module>: Loading MQTT module
2024-04-03 11:13:51,199 MainThread udi_interface      INFO     interface:<module>: MQTT module loaded
2024-04-03 11:13:51,437 MainThread udi_interface      INFO     __init__:<module>: Loading udi_interface module
2024-04-03 11:13:51,438 MainThread udi_interface      INFO     __init__:<module>: Loading node module
2024-04-03 11:13:51,438 MainThread udi_interface      INFO     __init__:<module>: Loading custom module
2024-04-03 11:13:51,438 MainThread udi_interface      INFO     __init__:<module>: Loading isy module
2024-04-03 11:13:51,438 MainThread udi_interface      INFO     __init__:<module>: Loading OAuth module
2024-04-03 11:13:51,439 MainThread udi_interface      INFO     __init__:<module>: UDI interface initialized
2024-04-03 11:13:51,439 MainThread udi_interface      INFO     __init__:<module>: UDI Python Interface for Polyglot version 3 3.3.4 Starting...
2024-04-03 11:13:51,468 MainThread udi_interface.interface INFO     interface:__init__: Initialization received from Polyglot V3 3.2.20  [ISY: 5.8.0, Slot: 17]
2024-04-03 11:13:51,469 MainThread udi_interface.interface INFO     interface:__init__: Connect: Network Interface: {'addr': '192.168.1.204', 'netmask': '255.255.255.0', 'broadcast': '192.168.1.255'}
2024-04-03 11:13:51,469 Interface  udi_interface.interface INFO     interface:_startMqtt: Connecting to MQTT... localhost:8883
2024-04-03 11:13:51,469 MainThread udi_interface.interface INFO     interface:updateProfile: Sending Install Profile command to Polyglot.
2024-04-03 11:13:51,470 Interface  udi_interface.interface INFO     interface:_startMqtt: Using SSL cert: 0021b90261b7_17.cert key: 0021b90261b7_17.key ca: /usr/local/etc/ssl/certs/ud.ca.cert
2024-04-03 11:13:51,480 MainThread udi_interface      INFO     TeslaOauth:__init__: OAuth initializing
2024-04-03 11:13:51,481 MainThread udi_interface      INFO     TeslaOauth:__init__: External service connectivity initialized...
2024-04-03 11:13:51,525 MQTT       udi_interface.interface INFO     interface:_connect: MQTT Connected with result code 0 (Success)
2024-04-03 11:13:51,526 MQTT       udi_interface.interface INFO     interface:_connect: MQTT Subscribing to topic: udi/pg3/ns/clients/00:21:b9:02:61:b7_17 -  MID: 2 Result: 0
2024-04-03 11:13:51,569 MQTT       udi_interface.interface INFO     interface:_subscribe: MQTT Subscribed Succesfully for Message ID: 2 - QoS: (0,)
2024-04-03 11:13:51,651 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = customparamsdoc
2024-04-03 11:13:51,702 MQTT       udi_interface.interface INFO     interface:_message: Profile installation finished
2024-04-03 11:13:52,482 MainThread udi_interface      INFO     TeslaPWOauth:__init__: OAuth initializing
2024-04-03 11:13:52,483 MainThread udi_interface      INFO     TeslaPWOauth:__init__: External service connectivity initialized...
2024-04-03 11:13:53,489 MainThread udi_interface.interface WARNING  interface:db_getNodeDrivers: controller not found in database.
2024-04-03 11:13:53,490 MainThread udi_interface      INFO     TeslaPWmain:__init__: _init_ Tesla Power Wall Controller
2024-04-03 11:13:53,490 MainThread udi_interface      DEBUG    TeslaPWmain:__init__: self.address : controller
2024-04-03 11:13:53,490 MainThread udi_interface      DEBUG    TeslaPWmain:__init__: self.name :TeslaPowerWalls
2024-04-03 11:13:53,490 MainThread udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:53,490 MainThread udi_interface      DEBUG    TeslaPWmain:__init__: Controller init DONE
2024-04-03 11:13:53,490 MainThread udi_interface.interface INFO     interface:addNode: Adding node TeslaPowerWalls(controller) [None]
2024-04-03 11:13:53,490 MainThread udi_interface.interface INFO     interface:setController: Using node "controller", driver "ST" for connection status.
2024-04-03 11:13:53,584 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:53,586 Thread-2   udi_interface      INFO     TeslaPWmain:handleLevelChange: New log level: {'name': 'DEBUG', 'level': 10}
2024-04-03 11:13:53,586 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getAll
2024-04-03 11:13:53,587 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getAll
2024-04-03 11:13:53,587 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'c53f4a39-a49a-4f9f-b06f-0220d9dae4c4', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparams', 'value': '{"local_access_en":"True","cloud_access_en":"True","region":"NA","LOCAL_USER_EMAIL":"christian.olgaard@gmail.com","LOCAL_USER_PASSWORD":"coe123COE","LOCAL_IP_ADDRESS":"192.168.1.151"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,587 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getNsInfo
2024-04-03 11:13:53,588 Thread-3   udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler 1 : {}
2024-04-03 11:13:53,588 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '6724e99a-35ac-4fd0-be28-5cf300817cd3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparamsdoc', 'value': '<h1>teslaPW</h1>\n\n<h2>Installation</h2>\n\n<p>For local access to PowerWall the local IP address (LOCAL<em>IP</em>ADDRESS) along with login  (LOCAL<em>USER</em>EMAIL) and password (LOCAL<em>USER</em>PASSWORD) must be added in configuration</p>\n\n<p>It may be necesary to power cycle (turn power wall on and off using the switch on the local power wall) - the node server will try to login for 5 min so it has to be done within those 5 min.  Often it is sufficient to login using the web interface before starting the node server </p>\n\n<p>For cloud access through Tesla cloud service one must provide a "refresh token" (REFRESH_TOKEN).<br />\nIt can be obtained e.g. using \nAuth for Tesla iPhone app \nhttps://apps.apple.com/us/app/auth-app-for-tesla/id1552058613 \nor </p>\n\n<p>Tesla Tokens \nhttps://play.google.com/store/apps/details?id=net.leveugle.teslatokens</p>\n\n<p>Once the token is accepted the node server will try to keep the token refreshed. </p>\n\n<p>Once installed a status node for each EV registered in the user account is created with sub-nodes for each EV addressing charging and climate control.</p>\n\n<p>If additional functionality is desired contact the author through github - https://github.com/Panda88CO/udi-TeslaPW</p>\n\n<p>Enjoy</p>\n', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,588 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM: load {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:13:53,588 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'b22ed7a2-15d4-4bfe-8b9c-b75e889a8ea9', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customtypeddata', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,588 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking local_access_en / True
2024-04-03 11:13:53,589 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '4f6a88f7-6e34-4488-952a-fc99a7435d90', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'notices', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,589 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking cloud_access_en / True
2024-04-03 11:13:53,589 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:53,589 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking region / NA
2024-04-03 11:13:53,589 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'a63aa5fc-b0ba-4662-9083-5c0be322b36e', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'nsdata', 'value': '', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,589 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_EMAIL / christian.olgaard@gmail.com
2024-04-03 11:13:53,590 Command    udi_interface.interface DEBUG    interface:_handleInput: Key nsdata should be passed to node server.
2024-04-03 11:13:53,590 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_PASSWORD / coe123COE
2024-04-03 11:13:53,590 Thread-4   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:13:53,590 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '29eefc43-b94b-476e-a162-f6d3473acd4b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauth', 'value': '{"name":"Tesla PW2","client_id":"6e635ec38dc4-4d2a-a35e-f164b51f3d96","client_secret":"ta-secret.S@z5uUjp*sxoS2rS","auth_endpoint":"https://auth.tesla.com/oauth2/v3/authorize","token_endpoint": "https://auth.tesla.com/oauth2/v3/token","scope":"energy_device_data energy_cmds open_id offline_access","addRedirect":"True"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,590 Thread-3   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_IP_ADDRESS / 192.168.1.151
2024-04-03 11:13:53,590 Thread-4   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:13:53,591 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauth should be passed to node server.
2024-04-03 11:13:53,591 Thread-3   udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler called {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:13:53,591 Thread-5   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:13:53,591 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '78cf61f5-c53b-4a53-bc8f-831c088160dc', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauthTokens', 'value': '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg","refresh_token":"NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104","id_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA","expires_in":28800,"state":"660d98dc639f575636b758f8","token_type":"Bearer"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,592 Thread-3   udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler fnish 
2024-04-03 11:13:53,592 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM: load {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': 'True'}
2024-04-03 11:13:53,592 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauthTokens should be passed to node server.
2024-04-03 11:13:53,592 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking name / Tesla PW2
2024-04-03 11:13:53,592 Thread-6   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:13:53,593 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getNsInfo
2024-04-03 11:13:53,593 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_id / 6e635ec38dc4-4d2a-a35e-f164b51f3d96
2024-04-03 11:13:53,593 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:13:53,593 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '72b13908-c383-4bd8-89c3-1c0b9022cc87', 'uuid': '00:21:b9:02:61:b7', 'token': 'nm)7oOqds5ti*&=a', 'name': 'TestTeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 10, 'timeAdded': 1692982303964, 'timeStarted': 1693241879801, 'timeModified': 1706665217143, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_10', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:13:53,593 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_secret / ta-secret.S@z5uUjp*sxoS2rS
2024-04-03 11:13:53,594 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg
2024-04-03 11:13:53,594 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'ceb1c94f-d762-476d-945d-df6626d8f3ed', 'uuid': '00:21:b9:02:61:b7', 'token': '*o&sqXI5HKv(Z/QC', 'name': 'TeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 11, 'timeAdded': 1693242193683, 'timeStarted': 1694619361730, 'timeModified': 1706665227502, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_11', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 1, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:13:53,594 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking auth_endpoint / https://auth.tesla.com/oauth2/v3/authorize
2024-04-03 11:13:53,594 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104
2024-04-03 11:13:53,594 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '3ecb8496-dd1b-4b44-affc-477d8f04be61', 'uuid': '00:21:b9:02:61:b7', 'token': ')TOE7TXZ0?7b%m+D', 'name': 'Blink_Test', 'nsid': 'null', 'expires': 0, 'nickname': None, 'profileNum': 15, 'timeAdded': 1697762273372, 'timeStarted': 1697922521989, 'timeModified': 1706665251091, 'version': '0.3.22', 'branch': 'develop1', 'url': 'https://github.com/Panda88CO/udi-Blink.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_15', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiBlinkController.py', 'shortPoll': 60, 'longPoll': 600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': 'setup', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '119ff071-becc-4671-9134-501a040a40ef', 'noLicense': 1, 'latestVersion': '0.3.22', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:13:53,594 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_endpoint / https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:13:53,595 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA
2024-04-03 11:13:53,595 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'cb796c25-3a1e-490e-bf83-92c9c15f5b03', 'uuid': '00:21:b9:02:61:b7', 'token': 'NsPhTSnDcu&*G7br', 'name': 'YoLink', 'nsid': '78312440-23ea-4ed6-9361-9cdc2d5e7c6b', 'expires': 0, 'nickname': None, 'profileNum': 14, 'timeAdded': 1705102703600, 'timeStarted': 1711382441688, 'timeModified': 1711383836980, 'version': '1.0.6', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-yolink', 'home': '/var/polyglot/pg3/ns/0021b90261b7_14', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-YoLink.py', 'shortPoll': 300, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '8fe210d4-6947-401f-ac84-a89183bfbb2e', 'noLicense': 1, 'latestVersion': '1.0.6', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:13:53,595 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking scope / energy_device_data energy_cmds open_id offline_access
2024-04-03 11:13:53,595 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:13:53,595 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '0a812325-3917-4f08-ac4e-d407b0f7ab06', 'uuid': '00:21:b9:02:61:b7', 'token': 'Lkq+s*WC!ZuDSJZ0', 'name': 'Hubitat2udi', 'nsid': 'c8db0012-a8ca-451c-a80a-8623a5df7832', 'expires': 0, 'nickname': None, 'profileNum': 1, 'timeAdded': 1706165856265, 'timeStarted': 1709087937744, 'timeModified': 1709087994398, 'version': '0.1.7', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi-hubitat.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_1', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-hubitat.py', 'shortPoll': 60, 'longPoll': 300, 'nsInfoPoll': 0, 'discover': 1, 'oauth': 0, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '56aa578d-e252-4808-8b5e-14fb80b6c5ce', 'noLicense': 1, 'latestVersion': '0.1.7', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:13:53,595 Thread-5   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking addRedirect / True
2024-04-03 11:13:53,596 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d98dc639f575636b758f8
2024-04-03 11:13:53,596 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'b56303f4-9451-4fcf-8a7c-cb8a02252352', 'uuid': '00:21:b9:02:61:b7', 'token': 'JuAI6zN-!*NeKzpF', 'name': 'NetatmoWeather', 'nsid': 'f3326c80-929c-4f42-9380-a30e567c4e1d', 'expires': 0, 'nickname': None, 'profileNum': 9, 'timeAdded': 1708373613025, 'timeStarted': 1710350273644, 'timeModified': 1710350799062, 'version': '0.1.2', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-netatmo', 'home': '/var/polyglot/pg3/ns/0021b90261b7_9', 'log': 'logs/debug.log', 'logLevel': 'INFO', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoWeather.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '5e1974fa-3039-4899-aa2c-da6467a82eaf', 'noLicense': 1, 'latestVersion': '0.1.2', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:13:53,596 Thread-5   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:13:53,596 Thread-6   udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:13:53,596 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'f6b38d0e-68b3-4f6b-841b-b144619ce9f9', 'uuid': '00:21:b9:02:61:b7', 'token': 'e&n*)M4HwOXPvIDL', 'name': 'udi_TeslaPW2', 'nsid': '54b95e4d-9a96-4281-92e2-56dcb85994ef', 'expires': 0, 'nickname': None, 'profileNum': 17, 'timeAdded': 1709680744932, 'timeStarted': 1712168030507, 'timeModified': 1712168033561, 'version': '0.1.5', 'branch': 'dev_new', 'url': 'https://github.com/Panda88CO/udi-teslaPW2', 'home': '/var/polyglot/pg3/ns/0021b90261b7_17', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaPWmain.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 0, 'status_node': 'controller', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '39568995-72c5-48ea-8e7d-760cd7a92e46', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:13:53,596 Thread-6   udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:13:53,597 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'baaebe82-589b-4685-9fe3-8d5781efebfa', 'uuid': '00:21:b9:02:61:b7', 'token': 'XtU!uPV&dp!eLXB5', 'name': 'NetatmoEnergy', 'nsid': '13cf0b77-25df-4aae-8971-1bc2c13e09e7', 'expires': 0, 'nickname': None, 'profileNum': 19, 'timeAdded': 1711646100554, 'timeStarted': 1711750281802, 'timeModified': 1711750295473, 'version': '0.1.5', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi_netatmo_energy', 'home': '/var/polyglot/pg3/ns/0021b90261b7_19', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoEnergy.py', 'shortPoll': 600, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '28eafcb2-ed0e-4c3b-9f16-d8c0060d675a', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:13:53,626 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message setController
2024-04-03 11:13:53,627 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING setController
2024-04-03 11:13:53,627 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS setController message {'success': True} from Polyglot
2024-04-03 11:13:53,627 Command    udi_interface.interface DEBUG    interface:_handleInput: connection status node/driver update
2024-04-03 11:13:53,713 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message addnode
2024-04-03 11:13:53,714 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING addnode
2024-04-03 11:13:53,714 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS addnode message {'id': '3dd76fdd-905e-4b23-bbca-c15edf56469d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'name': 'Tesla PowerWall Info', 'nodeDefId': 'controller', 'nls': None, 'hint': '0x00000000', 'controller': 1, 'primaryNode': 'controller', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1709680759730, 'timeModified': 1712168033604, 'dbVersion': 1} from Polyglot
2024-04-03 11:13:53,714 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: start
2024-04-03 11:13:53,714 Command    udi_interface.interface DEBUG    interface:_handleResult: add node response: {'id': '3dd76fdd-905e-4b23-bbca-c15edf56469d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'name': 'Tesla PowerWall Info', 'nodeDefId': 'controller', 'nls': None, 'hint': '0x00000000', 'controller': 1, 'primaryNode': 'controller', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1709680759730, 'timeModified': 1712168033604, 'dbVersion': 1}
2024-04-03 11:13:53,714 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: start 1 : {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:13:53,715 Thread-10  udi_interface.interface INFO     interface:updateProfile: Sending Install Profile command to Polyglot.
2024-04-03 11:13:53,715 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: start 2 : {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:13:53,715 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: access True True
2024-04-03 11:13:53,715 Thread-10  udi_interface      DEBUG    TeslaLocal:__init__: class tesla_info - init
2024-04-03 11:13:53,715 Thread-10  udi_interface      DEBUG    TeslaLocal:loginLocal: Local Access Supported
2024-04-03 11:13:53,720 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'installprofile': {'reboot': False}}
2024-04-03 11:13:53,798 MainThread udi_interface.interface INFO     interface:updateProfile: Sending Install Profile command to Polyglot.
2024-04-03 11:13:53,799 MainThread udi_interface.node DEBUG    node:setDriver: controller:TeslaPowerWalls Reporting set ST to 1 to Polyglot
2024-04-03 11:13:53,799 MainThread udi_interface.node DEBUG    node:reportDriver: Updating value to 1
2024-04-03 11:13:53,799 MainThread udi_interface      DEBUG    TeslaPWmain:__init__: finish Init 
2024-04-03 11:13:53,805 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'installprofile': {'reboot': False}}
2024-04-03 11:13:53,805 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'address': 'controller', 'driver': 'ST', 'value': '1', 'uom': 25, 'text': None}]}
2024-04-03 11:13:53,851 MQTT       udi_interface.interface INFO     interface:_message: Profile installation finished
2024-04-03 11:13:53,893 MQTT       udi_interface.interface INFO     interface:_message: Successfully set controller :: ST to 1 UOM 25
2024-04-03 11:13:54,003 MQTT       udi_interface.interface INFO     interface:_message: Profile installation finished
2024-04-03 11:13:54,463 Thread-10  udi_interface      DEBUG    TeslaLocal:loginLocal: self.TPWlocal 
2024-04-03 11:13:54,473 Thread-10  udi_interface      DEBUG    TeslaLocal:get_GWserial_number: Gateway: 1118431-00-L--TG11925500082D
2024-04-03 11:13:54,483 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: local GW 1118431-00-L--TG11925500082D
2024-04-03 11:13:54,491 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: Attempting to log in via cloud auth
2024-04-03 11:13:54,491 Thread-10  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : False {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:13:54,491 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is expired since None. Initiating refresh.
2024-04-03 11:13:54,491 Thread-10  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Refresh token before: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:13:54,491 Thread-10  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh body grant_type=refresh_token&refresh_token=NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104&client_id=6e635ec38dc4-4d2a-a35e-f164b51f3d96&client_secret=ta-secret.S%40z5uUjp%2AsxoS2rS&redirect_uri=https%3A%2F%2Fmy.isy.io%2Fapi%2Fcloudlink%2Fredirect&scope=energy_device_data+energy_cmds+open_id+offline_access
2024-04-03 11:13:55,518 Thread-10  udi_interface      INFO     oauth:_oAuthTokensRefresh: Refreshing oAuth tokens successfully
2024-04-03 11:13:55,518 Thread-10  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh result [<class 'dict'>]: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'token_type': 'Bearer'}
2024-04-03 11:13:55,518 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:55,518 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw
2024-04-03 11:13:55,518 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe
2024-04-03 11:13:55,519 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ
2024-04-03 11:13:55,519 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:13:55,519 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d98dc639f575636b758f8
2024-04-03 11:13:55,519 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:13:55,519 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expiry / 2024-04-03T19:13:55.518604
2024-04-03 11:13:55,520 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:55,521 Thread-10  udi_interface      DEBUG    TeslaOauth:try_authendication: access token (try auth {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'})
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:55,521 Thread-10  udi_interface      DEBUG    TeslaOauth:cloud_initialilze: region 
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': True, 'token_parameters': {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}}
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking name / Tesla PW2
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_id / 6e635ec38dc4-4d2a-a35e-f164b51f3d96
2024-04-03 11:13:55,521 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_secret / ta-secret.S@z5uUjp*sxoS2rS
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking auth_endpoint / https://auth.tesla.com/oauth2/v3/authorize
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_endpoint / https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking scope / energy_device_data energy_cmds open_id offline_access
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking addRedirect / True
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_parameters / {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}
2024-04-03 11:13:55,522 Thread-10  udi_interface.custom INFO     custom:_save: Sending data oauth to Polyglot.
2024-04-03 11:13:55,531 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:55,531 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:55,531 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'oauth', 'value': {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': True, 'token_parameters': {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}}}]}
2024-04-03 11:13:55,546 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:55,546 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:55,547 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:55,547 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:55,547 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:55,548 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:55,590 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:55,590 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:55,590 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:55,590 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:55,591 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:55,591 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:55,627 Thread-10  udi_interface      DEBUG    TeslaOauth:cloud_initialilze: getOauthSettings: {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': True, 'token_parameters': {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}}
2024-04-03 11:13:55,628 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_products: tesla_get_products 
2024-04-03 11:13:55,628 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:55,628 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:55,628 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:55,628 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/products, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:55,631 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:55,631 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:55,631 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = oauth
2024-04-03 11:13:55,631 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'oauth': '{"name":"Tesla PW2","client_id":"6e635ec38dc4-4d2a-a35e-f164b51f3d96","client_secret":"ta-secret.S@z5uUjp*sxoS2rS","auth_endpoint":"https://auth.tesla.com/oauth2/v3/authorize","token_endpoint":"https://auth.tesla.com/oauth2/v3/token","scope":"energy_device_data energy_cmds open_id offline_access","addRedirect":true,"token_parameters":{"audience":"https://fleet-api.prd.na.vn.cloud.tesla.com"}}'} from Polyglot
2024-04-03 11:13:55,631 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message oauth from Polyglot
2024-04-03 11:13:55,637 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:55,651 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:55,652 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:55,652 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:55,652 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:55,652 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:55,693 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:56,216 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_products: products: {'response': [{'energy_site_id': 2252180231966670, 'resource_type': 'battery', 'site_name': 'Olgaard Saratoga', 'id': 'STE20200117-00014', 'gateway_id': '1118431-00-L--TG11925500082D', 'asset_site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'grid_installation_id': 'a6fa15b1-8830-44e7-be73-28dcbe9ce391', 'warp_site_number': 'STE20200117-00014', 'percentage_charged': 100, 'battery_type': 'ac_powerwall', 'backup_capable': True, 'battery_power': -10, 'go_off_grid_test_banner_enabled': None, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': None, 'vpp_tour_enabled': None, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': True, 'components': {'battery': True, 'battery_type': 'ac_powerwall', 'solar': True, 'grid': True, 'load_meter': True, 'market_type': 'residential'}, 'features': {'rate_plan_manager_no_pricing_constraint': True}}], 'count': 1} 
2024-04-03 11:13:56,217 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: PWs: {'2252180231966670': {'energy_site_id': 2252180231966670, 'resource_type': 'battery', 'site_name': 'Olgaard Saratoga', 'id': 'STE20200117-00014', 'gateway_id': '1118431-00-L--TG11925500082D', 'asset_site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'grid_installation_id': 'a6fa15b1-8830-44e7-be73-28dcbe9ce391', 'warp_site_number': 'STE20200117-00014', 'percentage_charged': 100, 'battery_type': 'ac_powerwall', 'backup_capable': True, 'battery_power': -10, 'go_off_grid_test_banner_enabled': None, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': None, 'vpp_tour_enabled': None, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': True, 'components': {'battery': True, 'battery_type': 'ac_powerwall', 'solar': True, 'grid': True, 'load_meter': True, 'market_type': 'residential'}, 'features': {'rate_plan_manager_no_pricing_constraint': True}}}
2024-04-03 11:13:56,217 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: Site Loop 2252180231966670  {'energy_site_id': 2252180231966670, 'resource_type': 'battery', 'site_name': 'Olgaard Saratoga', 'id': 'STE20200117-00014', 'gateway_id': '1118431-00-L--TG11925500082D', 'asset_site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'grid_installation_id': 'a6fa15b1-8830-44e7-be73-28dcbe9ce391', 'warp_site_number': 'STE20200117-00014', 'percentage_charged': 100, 'battery_type': 'ac_powerwall', 'backup_capable': True, 'battery_power': -10, 'go_off_grid_test_banner_enabled': None, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': None, 'vpp_tour_enabled': None, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': True, 'components': {'battery': True, 'battery_type': 'ac_powerwall', 'solar': True, 'grid': True, 'load_meter': True, 'market_type': 'residential'}, 'features': {'rate_plan_manager_no_pricing_constraint': True}}
2024-04-03 11:13:56,217 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: 2252180231966670
2024-04-03 11:13:56,217 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: 52180231966670
2024-04-03 11:13:56,217 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: Olgaard Saratoga
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: node_address and name: 52180231966670 Olgaard Saratoga
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: <TeslaLocal.tesla_local object at 0x8870282b0>
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: <TeslaPWOauth.teslaPWAccess object at 0x887028940>
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: 2252180231966670
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaInfo:__init__: class tesla_info - init
2024-04-03 11:13:56,218 Thread-10  udi_interface      DEBUG    TeslaInfo:init_local: init_local
2024-04-03 11:13:56,231 Thread-10  udi_interface      DEBUG    TeslaInfo:init_local: {'site': {'last_communication_time': '2024-04-03T11:13:56.101216703-07:00', 'instant_power': -1519.22998046875, 'instant_reactive_power': -1020.8500061035156, 'instant_apparent_power': 1830.3536457517237, 'frequency': 60, 'energy_exported': 7483735.802569095, 'energy_imported': 25558506.82783562, 'instant_average_voltage': 126.04499816894531, 'instant_average_current': 0, 'i_a_current': 0, 'i_b_current': 0, 'i_c_current': 0, 'last_phase_voltage_communication_time': '0001-01-01T00:00:00Z', 'last_phase_power_communication_time': '0001-01-01T00:00:00Z', 'last_phase_energy_communication_time': '0001-01-01T00:00:00Z', 'timeout': 1500000000, 'num_meters_aggregated': 1, 'instant_total_current': 0}, 'battery': {'last_communication_time': '2024-04-03T11:13:56.181267-07:00', 'instant_power': 0, 'instant_reactive_power': 690, 'instant_apparent_power': 690, 'frequency': 60.016000000000005, 'energy_exported': 13473577, 'energy_imported': 15652717, 'instant_average_voltage': 251.65, 'instant_average_current': -0.4, 'i_a_current': 0, 'i_b_current': 0, 'i_c_current': 0, 'last_phase_voltage_communication_time': '0001-01-01T00:00:00Z', 'last_phase_power_communication_time': '0001-01-01T00:00:00Z', 'last_phase_energy_communication_time': '0001-01-01T00:00:00Z', 'timeout': 1500000000, 'num_meters_aggregated': 2, 'instant_total_current': -0.4}, 'load': {'last_communication_time': '2024-04-03T11:13:56.101216703-07:00', 'instant_power': 518.9415851134322, 'instant_reactive_power': -361.2194813999197, 'instant_apparent_power': 632.2814899258625, 'frequency': 60, 'energy_exported': 0, 'energy_imported': 40567660.37692707, 'instant_average_voltage': 126.04499816894531, 'instant_average_current': 4.117113670927783, 'i_a_current': 0, 'i_b_current': 0, 'i_c_current': 0, 'last_phase_voltage_communication_time': '0001-01-01T00:00:00Z', 'last_phase_power_communication_time': '0001-01-01T00:00:00Z', 'last_phase_energy_communication_time': '0001-01-01T00:00:00Z', 'timeout': 1500000000, 'instant_total_current': 4.117113670927783}, 'solar': {'last_communication_time': '2024-04-03T11:13:56.146286165-07:00', 'instant_power': 2038.1800537109375, 'instant_reactive_power': -37.02000045776367, 'instant_apparent_power': 2038.5162279901067, 'frequency': 60, 'energy_exported': 24747604.618335586, 'energy_imported': 75575.26667504013, 'instant_average_voltage': 126.04000091552734, 'instant_average_current': 0, 'i_a_current': 0, 'i_b_current': 0, 'i_c_current': 0, 'last_phase_voltage_communication_time': '0001-01-01T00:00:00Z', 'last_phase_power_communication_time': '0001-01-01T00:00:00Z', 'last_phase_energy_communication_time': '0001-01-01T00:00:00Z', 'timeout': 1500000000, 'num_meters_aggregated': 1, 'instant_total_current': 0}}
2024-04-03 11:13:56,231 Thread-10  udi_interface      DEBUG    TeslaInfo:init_local: installed dev [<MeterType.SITE: 'site'>, <MeterType.BATTERY: 'battery'>, <MeterType.LOAD: 'load'>, <MeterType.SOLAR: 'solar'>]
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaInfo:init_local: meter: MeterType.SITE 
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaInfo:init_local: Exception 'MeterType' object has no attribute 'values'
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaInfo:init_cloud: init_cloud
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaInfo:teslaCloudConnect: teslaCloudConnect <TeslaPWOauth.teslaPWAccess object at 0x887028940>
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaInfo:teslaCloudConnect: Logged in Cloud - retrieving data
2024-04-03 11:13:56,232 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: teslaUpdateCloudData - 2252180231966670 all
2024-04-03 11:13:56,233 Thread-10  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:56,233 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: tesla_get_live_status 
2024-04-03 11:13:56,233 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:56,233 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:56,233 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:56,233 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/live_status, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:56,235 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:56,256 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:56,257 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:56,257 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:56,257 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:56,257 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:56,297 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:56,476 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: live_status: {'response': {'solar_power': 2040.1600341796875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 537.010009765625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1503.1500244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:13:56-07:00', 'wall_connectors': []}} 
2024-04-03 11:13:56,476 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: sitelive : {'2252180231966670': {'solar_power': 2040.1600341796875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 537.010009765625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1503.1500244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:13:56-07:00', 'wall_connectors': []}}
2024-04-03 11:13:56,476 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: tesla_get_site_info 
2024-04-03 11:13:56,476 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:56,476 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:56,477 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:56,477 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/site_info, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:56,480 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:56,500 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:56,501 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:56,501 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:56,501 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:56,501 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:56,542 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:56,915 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: site_info: {'response': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}} 
2024-04-03 11:13:56,916 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: site info: {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:13:56,916 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: self.site_info {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:13:56,916 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : energy
2024-04-03 11:13:56,916 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'energy', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:56-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:56,916 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:56,916 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:56,917 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:56,917 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=energy&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:56-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:56,919 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:56,939 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:56,939 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:56,939 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:56,939 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:56,939 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:56,978 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:57,236 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (energy) = {'response': {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}}
2024-04-03 11:13:57,237 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 energy {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:57,237 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_energy_data: process_energy_data: {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:57,237 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}}}
2024-04-03 11:13:57,237 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : backup
2024-04-03 11:13:57,237 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'backup', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:57-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:57,238 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:57,238 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:57,238 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:57,238 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=backup&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:57-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:57,240 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:57,254 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:57,255 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:57,255 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:57,255 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:57,255 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:57,294 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:57,618 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (backup) = {'response': {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:57-07:00', 'next_end_date': '2024-04-02T11:13:57-07:00'}}
2024-04-03 11:13:57,618 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 backup {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:57-07:00', 'next_end_date': '2024-04-02T11:13:57-07:00'}
2024-04-03 11:13:57,618 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_backup_data: process_backup_data: {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:57-07:00', 'next_end_date': '2024-04-02T11:13:57-07:00'}
2024-04-03 11:13:57,618 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:57,619 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : charge
2024-04-03 11:13:57,619 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'charge', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:57-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:57,619 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:57,619 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:57,619 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:57,619 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:57-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:57,624 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:57,643 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:57,644 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:57,644 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:57,644 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:57,644 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:57,685 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:57,769 Thread-10  udi_interface      ERROR    TeslaOauth:_callApi: Call GET https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:57-07:00&period=day&time_zone=PDT failed: 400 Client Error: Bad Request for url: https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:57-07:00&period=day&time_zone=PDT
2024-04-03 11:13:57,771 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (charge) = None
2024-04-03 11:13:57,771 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: history_data : {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:57,771 Thread-10  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:57,771 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: teslaUpdateCloudData - 2252180231966670 all
2024-04-03 11:13:57,771 Thread-10  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:57,772 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: tesla_get_live_status 
2024-04-03 11:13:57,772 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:57,772 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:57,772 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:57,772 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/live_status, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:57,774 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:57,828 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:57,829 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:57,829 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:57,829 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:57,829 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:57,870 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:58,063 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: live_status: {'response': {'solar_power': 2040.1600341796875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 537.010009765625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1503.1500244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:13:57-07:00', 'wall_connectors': []}} 
2024-04-03 11:13:58,064 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: sitelive : {'2252180231966670': {'solar_power': 2040.1600341796875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 537.010009765625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1503.1500244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:13:57-07:00', 'wall_connectors': []}}
2024-04-03 11:13:58,064 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: tesla_get_site_info 
2024-04-03 11:13:58,064 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:58,064 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:58,064 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:58,064 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/site_info, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:58,073 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:58,088 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:58,088 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:58,088 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:58,088 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:58,088 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:58,129 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:58,512 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: site_info: {'response': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}} 
2024-04-03 11:13:58,513 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: site info: {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:13:58,513 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: self.site_info {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:13:58,513 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : energy
2024-04-03 11:13:58,513 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'energy', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:57-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:58,513 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:58,513 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:58,514 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:58,514 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=energy&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:57-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:58,521 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:58,536 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:58,536 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:58,536 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:58,536 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:58,537 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:58,578 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:58,710 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (energy) = {'response': {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}}
2024-04-03 11:13:58,710 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 energy {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:58,710 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_energy_data: process_energy_data: {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:58,711 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:58,711 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : backup
2024-04-03 11:13:58,711 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'backup', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:58-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:58,711 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:58,711 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:58,711 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:58,711 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=backup&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:58-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:58,714 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:58,730 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:58,730 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:58,730 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:58,730 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:58,730 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:58,772 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:58,975 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (backup) = {'response': {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:58-07:00', 'next_end_date': '2024-04-02T11:13:58-07:00'}}
2024-04-03 11:13:58,975 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 backup {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:58-07:00', 'next_end_date': '2024-04-02T11:13:58-07:00'}
2024-04-03 11:13:58,976 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_backup_data: process_backup_data: {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:13:58-07:00', 'next_end_date': '2024-04-02T11:13:58-07:00'}
2024-04-03 11:13:58,976 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:58,976 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : charge
2024-04-03 11:13:58,976 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'charge', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:13:58-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:58,976 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:58,976 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:58,976 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:58,977 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:58-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:58,979 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:58,994 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:58,994 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:58,994 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:58,994 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:58,994 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:59,035 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:59,119 Thread-10  udi_interface      ERROR    TeslaOauth:_callApi: Call GET https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:58-07:00&period=day&time_zone=PDT failed: 400 Client Error: Bad Request for url: https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:13:58-07:00&period=day&time_zone=PDT
2024-04-03 11:13:59,120 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (charge) = None
2024-04-03 11:13:59,120 Thread-10  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: history_data : {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:59,120 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: tesla_get_yesterday_history : energy
2024-04-03 11:13:59,120 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: body = {'kind': 'energy', 'start_date': '2024-04-02T00:00:00-07:00', 'end_date': '2024-04-02T23:59:59-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:59,120 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:59,121 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:59,121 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:59,121 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=energy&start_date=2024-04-02T00:00:00-07:00&end_date=2024-04-02T23:59:59-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:59,129 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:59,145 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:59,146 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:59,146 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:59,146 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:59,146 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:59,187 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:59,522 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: result (energy)= {'response': {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}]}}
2024-04-03 11:13:59,522 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 energy {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:59,522 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_energy_data: process_energy_data: {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:13:59,522 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:59,523 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: tesla_get_yesterday_history : backup
2024-04-03 11:13:59,523 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: body = {'kind': 'backup', 'start_date': '2024-04-02T00:00:00-07:00', 'end_date': '2024-04-02T23:59:59-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:59,523 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:59,523 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:59,523 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:59,523 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=backup&start_date=2024-04-02T00:00:00-07:00&end_date=2024-04-02T23:59:59-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:59,525 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:59,541 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:59,542 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:59,542 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:59,542 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:59,542 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:59,583 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:59,787 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: result (backup)= {'response': {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-02T23:59:59-07:00', 'next_end_date': '2024-04-01T23:59:59-07:00'}}
2024-04-03 11:13:59,788 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 backup {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-02T23:59:59-07:00', 'next_end_date': '2024-04-01T23:59:59-07:00'}
2024-04-03 11:13:59,788 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_backup_data: process_backup_data: {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-02T23:59:59-07:00', 'next_end_date': '2024-04-01T23:59:59-07:00'}
2024-04-03 11:13:59,788 Thread-10  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:13:59,788 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: tesla_get_yesterday_history : charge
2024-04-03 11:13:59,788 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: body = {'kind': 'charge', 'start_date': '2024-04-02T00:00:00-07:00', 'end_date': '2024-04-02T23:59:59-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:13:59,788 Thread-10  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:13:55.518604, no need to refresh
2024-04-03 11:13:59,789 Thread-10  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:13:59,789 Thread-10  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:13:59,789 Thread-10  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-02T00:00:00-07:00&end_date=2024-04-02T23:59:59-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw'}, body =
2024-04-03 11:13:59,791 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:13:59,807 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:13:59,807 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:13:59,807 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:13:59,808 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:13:59,808 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:59,849 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:13:59,956 Thread-10  udi_interface      ERROR    TeslaOauth:_callApi: Call GET https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-02T00:00:00-07:00&end_date=2024-04-02T23:59:59-07:00&period=day&time_zone=PDT failed: 400 Client Error: Bad Request for url: https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-02T00:00:00-07:00&end_date=2024-04-02T23:59:59-07:00&period=day&time_zone=PDT
2024-04-03 11:13:59,958 Thread-10  udi_interface      DEBUG    TeslaPWOauth:tesla_get_yesterday_history: result (charge)= None
2024-04-03 11:13:59,958 Thread-10  udi_interface      DEBUG    TeslaInfo:init_cloud: Cloud data retrieved tesla_info
2024-04-03 11:13:59,958 Thread-10  udi_interface      INFO     TeslaPWStatusNode:__init__: _init_ Tesla Power Wall Status Node
2024-04-03 11:13:59,958 Thread-10  udi_interface.interface DEBUG    interface:ready: Asking PG3 for config/getAll now
2024-04-03 11:13:59,959 Thread-10  udi_interface.interface INFO     interface:addNode: Adding node Olgaard Saratoga(52180231966670) [None]
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: Access: False True
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:start: start 3: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:tesla_initialize: starting Login process
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:tesla_initialize: localAccess:False, cloudAccess:True
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:tesla_initialize: tesla_initialize 1 : {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:tesla_initialize: Node installation complete
2024-04-03 11:13:59,959 Thread-10  udi_interface      INFO     TeslaPWmain:longPoll: Tesla Power Wall Controller longPoll
2024-04-03 11:13:59,959 Thread-10  udi_interface      DEBUG    TeslaPWmain:node_ready:  main node ready True 
2024-04-03 11:13:59,960 Thread-10  udi_interface      DEBUG    TeslaPWmain:longPoll: long poll node loop TeslaPowerWalls - True
2024-04-03 11:13:59,960 Thread-10  udi_interface      DEBUG    TeslaPWmain:node_ready:  main node ready True 
2024-04-03 11:13:59,960 Thread-10  udi_interface      DEBUG    TeslaPWmain:updateISYdrivers: System updateISYdrivers - 
2024-04-03 11:13:59,960 Thread-10  udi_interface.node DEBUG    node:setDriver: controller:TeslaPowerWalls Reporting set GV4 to 1 to Polyglot
2024-04-03 11:13:59,960 Thread-10  udi_interface.node DEBUG    node:reportDriver: Updating value to 1
2024-04-03 11:13:59,960 Thread-10  udi_interface      DEBUG    TeslaPWmain:longPoll: long poll node loop Olgaard Saratoga - False
2024-04-03 11:13:59,960 Thread-10  udi_interface      INFO     TeslaPWmain:longPoll: Problem polling data from Tesla system - Olgaard Saratoga may not be ready yet
2024-04-03 11:13:59,960 Thread-10  udi_interface      DEBUG    TeslaPWmain:tesla_initialize: Controller - initialization done
2024-04-03 11:13:59,962 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'config': {'version': '0.1.5', 'requestId': False}}
2024-04-03 11:13:59,963 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'getAll': {}}
2024-04-03 11:13:59,963 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'getNsInfo': {}}
2024-04-03 11:13:59,963 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'addnode': [{'address': '52180231966670', 'name': 'Olgaard Saratoga', 'nodeDefId': 'pwstatus', 'primaryNode': '52180231966670', 'drivers': [{'driver': 'GV0', 'value': -1, 'uom': 33}, {'driver': 'GV1', 'value': 0, 'uom': 51}, {'driver': 'GV2', 'value': 0, 'uom': 25}, {'driver': 'GV3', 'value': 0, 'uom': 25}, {'driver': 'GV4', 'value': 0, 'uom': 25}, {'driver': 'GV5', 'value': 0, 'uom': 25}, {'driver': 'GV6', 'value': 0, 'uom': 33}, {'driver': 'GV7', 'value': 0, 'uom': 33}, {'driver': 'GV8', 'value': 0, 'uom': 33}, {'driver': 'GV9', 'value': 0, 'uom': 33}, {'driver': 'GV10', 'value': 0, 'uom': 33}, {'driver': 'GV11', 'value': 0, 'uom': 33}, {'driver': 'GV12', 'value': 0, 'uom': 33}, {'driver': 'GV13', 'value': 0, 'uom': 33}, {'driver': 'GV14', 'value': 0, 'uom': 33}, {'driver': 'GV15', 'value': 0, 'uom': 33}, {'driver': 'GV16', 'value': 0, 'uom': 33}, {'driver': 'GV17', 'value': 0, 'uom': 33}, {'driver': 'GV18', 'value': 0, 'uom': 33}, {'driver': 'GV19', 'value': 0, 'uom': 33}, {'driver': 'GV20', 'value': 0, 'uom': 33}, {'driver': 'GV20', 'value': 0, 'uom': 33}], 'hint': [0, 0, 0, 0], 'private': None, 'rename': False}]}
2024-04-03 11:13:59,964 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'address': 'controller', 'driver': 'GV4', 'value': '1', 'uom': 25, 'text': None}]}
2024-04-03 11:13:59,981 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message config
2024-04-03 11:13:59,981 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING config
2024-04-03 11:13:59,981 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS config message {'id': 'f6b38d0e-68b3-4f6b-841b-b144619ce9f9', 'uuid': '00:21:b9:02:61:b7', 'token': 'e&n*)M4HwOXPvIDL', 'name': 'udi_TeslaPW2', 'nsid': '54b95e4d-9a96-4281-92e2-56dcb85994ef', 'expires': 0, 'nickname': None, 'profileNum': 17, 'timeAdded': 1709680744932, 'timeStarted': 1712168030507, 'timeModified': 1712168039972, 'version': '0.1.5', 'branch': 'dev_new', 'url': 'https://github.com/Panda88CO/udi-teslaPW2', 'home': '/var/polyglot/pg3/ns/0021b90261b7_17', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaPWmain.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 0, 'status_node': 'controller', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '39568995-72c5-48ea-8e7d-760cd7a92e46', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard', 'notices': {}, 'nodes': [{'id': 'adae2f5b-850c-4abf-bf57-eab604ee361d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'name': 'Olgaard Saratoga', 'nodeDefId': 'pwstatus', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1710982132539, 'timeModified': 1710982132539, 'dbVersion': 1, 'drivers': [{'id': 'b3f41124-7f63-4f4d-89fb-2f6a310913da', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV0', 'value': -1, 'uom': 33, 'timeAdded': 1712166848400, 'timeModified': 1712166848400, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '742539a1-454c-4df2-8441-fa46f85fc474', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV1', 'value': 0, 'uom': 51, 'timeAdded': 1712166848404, 'timeModified': 1712166848404, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'f0f981d6-146c-42d3-b489-1f8b55334f9c', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV10', 'value': 0, 'uom': 33, 'timeAdded': 1712166848433, 'timeModified': 1712166848433, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '326e7259-b036-4015-93f2-6ee2c7fe2ea0', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV11', 'value': 0, 'uom': 33, 'timeAdded': 1712166848436, 'timeModified': 1712166848436, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '32cd13de-39c8-4657-938c-23d7d0340687', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV12', 'value': 0, 'uom': 33, 'timeAdded': 1712166848439, 'timeModified': 1712166848439, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '00f4837f-131b-455e-b39b-ac4cdb746e89', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV13', 'value': 0, 'uom': 33, 'timeAdded': 1712166848442, 'timeModified': 1712166848442, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'aac8e878-2342-411e-bc71-2ab178ad868a', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV14', 'value': 0, 'uom': 33, 'timeAdded': 1712166848446, 'timeModified': 1712166848446, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '05933c53-0b03-43ab-94c8-4f448640f9ac', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV15', 'value': 0, 'uom': 33, 'timeAdded': 1712166848449, 'timeModified': 1712166848449, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '046a08e9-3e7e-4bb2-8c42-27c81a8daa66', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV16', 'value': 0, 'uom': 33, 'timeAdded': 1712166848453, 'timeModified': 1712166848453, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '667df13e-9952-492a-821e-2222b635264f', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV17', 'value': 0, 'uom': 33, 'timeAdded': 1712166848456, 'timeModified': 1712166848456, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'a5f76385-ffce-449e-bed7-18d821cfa2f9', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV18', 'value': 0, 'uom': 33, 'timeAdded': 1712166848459, 'timeModified': 1712166848459, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '7e6c1a28-b109-4c68-bd00-e7f374e9f32e', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV19', 'value': 0, 'uom': 33, 'timeAdded': 1712166848462, 'timeModified': 1712166848462, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'b47a6fa0-7503-4bdc-b55a-e492aad9e630', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV2', 'value': 0, 'uom': 25, 'timeAdded': 1712166848407, 'timeModified': 1712166848407, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '73ec99f4-4968-4605-af1d-516b3d21d1b7', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV20', 'value': 0, 'uom': 33, 'timeAdded': 1712166848465, 'timeModified': 1712166848465, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'd037f271-09e1-445c-a305-dbc68d02121a', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV3', 'value': 0, 'uom': 25, 'timeAdded': 1712166848411, 'timeModified': 1712166848411, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '434c10a6-1b9f-4fe8-80b3-56d3431779c2', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV4', 'value': 0, 'uom': 25, 'timeAdded': 1712166848414, 'timeModified': 1712166848414, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '0829f207-5238-43e8-bfa2-1931f7965bc6', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV5', 'value': 0, 'uom': 25, 'timeAdded': 1712166848417, 'timeModified': 1712166848417, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'cc201d37-2874-4e26-acd0-0fcd2151c141', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV6', 'value': 0, 'uom': 33, 'timeAdded': 1712166848421, 'timeModified': 1712166848421, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'bffd4326-d637-4329-b55e-ee2d1f479bb3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV7', 'value': 0, 'uom': 33, 'timeAdded': 1712166848424, 'timeModified': 1712166848424, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'b857f5dc-9285-4988-8d0c-d2cf73747a85', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV8', 'value': 0, 'uom': 33, 'timeAdded': 1712166848427, 'timeModified': 1712166848427, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '61e6d473-c13d-404e-bb04-0b5f1274d1ec', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV9', 'value': 0, 'uom': 33, 'timeAdded': 1712166848430, 'timeModified': 1712166848430, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '3dd76fdd-905e-4b23-bbca-c15edf56469d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'name': 'Tesla PowerWall Info', 'nodeDefId': 'controller', 'nls': None, 'hint': '0x00000000', 'controller': 1, 'primaryNode': 'controller', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1709680759730, 'timeModified': 1712168033604, 'dbVersion': 1, 'drivers': [{'id': 'e2f8d56d-3d7e-4587-95d3-807d6ae7d0a3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV2', 'value': '0', 'uom': 25, 'timeAdded': 1709680759840, 'timeModified': 1711755995104, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'b829dea1-8768-4a48-a8ef-19f480574569', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV3', 'value': '0', 'uom': 55, 'timeAdded': 1709680759844, 'timeModified': 1711755995127, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'c546a2a1-64be-4541-9a49-3be592a9fe13', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV4', 'value': '0', 'uom': 25, 'timeAdded': 1709680759848, 'timeModified': 1712167128495, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '053a6934-d097-481a-bb63-c9c08d738d24', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'ST', 'value': '1', 'uom': 25, 'timeAdded': 1709680759835, 'timeModified': 1712168033877, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '7b76f023-4106-4d04-b9a7-6c50821556ca', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'name': 'Setup PW Parameters', 'nodeDefId': 'pwsetup', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161729, 'timeModified': 1711153161729, 'dbVersion': 1, 'drivers': [{'id': 'fcca195e-e374-49a8-8054-191ba31f839d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV1', 'value': '31', 'uom': 51, 'timeAdded': 1711154263259, 'timeModified': 1712014854888, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'f979da53-c1fb-443b-bd84-429bdc50ea4a', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV2', 'value': '2', 'uom': 25, 'timeAdded': 1711154263263, 'timeModified': 1712014854938, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'f99fb6f6-baf9-4c67-9eda-9ab372690f93', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV3', 'value': 'None', 'uom': 25, 'timeAdded': 1711154263268, 'timeModified': 1712024141486, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '13f147cd-54a5-47f2-a9df-5e3437ea2dc7', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'name': 'Solar Status', 'nodeDefId': 'pwsolar', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161780, 'timeModified': 1711153161780, 'dbVersion': 1, 'drivers': [{'id': 'fdde18b4-6a6e-446c-873b-a06d5d367209', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV1', 'value': '0', 'uom': 33, 'timeAdded': 1711153161969, 'timeModified': 1712014855041, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '816dc2a6-b205-41e5-9860-3a862b2ba209', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV2', 'value': '20.32', 'uom': 33, 'timeAdded': 1711153161973, 'timeModified': 1712014855090, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '7785f01f-b01c-41b0-8881-74e929030aee', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV3', 'value': '18.52', 'uom': 33, 'timeAdded': 1711153161978, 'timeModified': 1712014855140, 'dbVersion': 1, 'name': None, 'text': None}]}]} from Polyglot
2024-04-03 11:13:59,981 Command    udi_interface.interface DEBUG    interface:_inConfig: INCFG --> start processing config data
2024-04-03 11:13:59,982 Command    udi_interface.interface DEBUG    interface:_inConfig: Setting log level to DEBUG
2024-04-03 11:13:59,983 Thread-13  udi_interface      INFO     TeslaPWmain:handleLevelChange: New log level: {'name': 'DEBUG', 'level': 10}
2024-04-03 11:13:59,995 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getAll
2024-04-03 11:13:59,995 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getAll
2024-04-03 11:13:59,995 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'c53f4a39-a49a-4f9f-b06f-0220d9dae4c4', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparams', 'value': '{"local_access_en":"True","cloud_access_en":"True","region":"NA","LOCAL_USER_EMAIL":"christian.olgaard@gmail.com","LOCAL_USER_PASSWORD":"coe123COE","LOCAL_IP_ADDRESS":"192.168.1.151"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,996 Thread-14  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler 1 : {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODM0LCJpYXQiOjE3MTIxNjgwMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDM0LCJub25jZSI6bnVsbH0.VbeczBpPLeZ0NVHPLbAEeX4a7kezlxYgjPhSyZGoceThrCZxW9qR-O2CFzVhREXBiyAOaBV_d4VWRO-g5RQ6QF_Rf14yyGh3qqQy5e2cU4es9mcK569Xc155HfPHnWLX-Lrw6ktN_Oa3cEJVml7R3JxK9RYGPXJHSbnFKwYcJPX-Dz2hUny7Wozd1FWZ8COpjRLNaYlj6lHJIQ1_n6p45X5stlgpg5dnOqL1lF8NMnTnqg4xLCP6meDw4RS_3WdgfzJh4jwom3VH8yE_Ti4Y4orwMmYtfEJY4b-SN2iQB6fzYoxIbSAAPS1eyuvDYEffbiwqicvl3gyAz9ZHN2l6tw', 'refresh_token': 'NA_a57ff0f2a07969dfe580cf99ce73a43c9f6dfd0614c7226668861bde9f9b86fe', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NjgzNCwiaWF0IjoxNzEyMTY4MDM0LCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODAzNH0.ox1pmr3j6ndjc2TlvUfDR5G7Qfdmbw4cTYmMH4o3YuPwjm1tLqgkaIpujtT6qo3bSMkugOcdAdHZDOuFOiQwD2-5yPUpSR_lmLBdmDuW5s5bqzNDfxf4lsUmieam09JpaGM-2GD90DZlMAJNzML2BsALHhn8oHITf9GfQbVULWFVXU119eJhlEB5W1s_DywX6k1Q9xnWim2CwWB8dwLBGwe6M0nFEmQVnPhCzOerakY9fy2nT6R42Shz2X1JQS7qfM_h51KVFymHw70Oyf92QJ0fcmFA-aMv2tZ79y0kFr9I5Ry24ZQFf1qH536QgVDuNGoxmYzaLTcncTw2x3fJJQ', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:13:55.518604'}
2024-04-03 11:13:59,996 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '6724e99a-35ac-4fd0-be28-5cf300817cd3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparamsdoc', 'value': '<h1>teslaPW</h1>\n\n<h2>Installation</h2>\n\n<p>For local access to PowerWall the local IP address (LOCAL<em>IP</em>ADDRESS) along with login  (LOCAL<em>USER</em>EMAIL) and password (LOCAL<em>USER</em>PASSWORD) must be added in configuration</p>\n\n<p>It may be necesary to power cycle (turn power wall on and off using the switch on the local power wall) - the node server will try to login for 5 min so it has to be done within those 5 min.  Often it is sufficient to login using the web interface before starting the node server </p>\n\n<p>For cloud access through Tesla cloud service one must provide a "refresh token" (REFRESH_TOKEN).<br />\nIt can be obtained e.g. using \nAuth for Tesla iPhone app \nhttps://apps.apple.com/us/app/auth-app-for-tesla/id1552058613 \nor </p>\n\n<p>Tesla Tokens \nhttps://play.google.com/store/apps/details?id=net.leveugle.teslatokens</p>\n\n<p>Once the token is accepted the node server will try to keep the token refreshed. </p>\n\n<p>Once installed a status node for each EV registered in the user account is created with sub-nodes for each EV addressing charging and climate control.</p>\n\n<p>If additional functionality is desired contact the author through github - https://github.com/Panda88CO/udi-TeslaPW</p>\n\n<p>Enjoy</p>\n', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,996 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:13:59,996 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'b22ed7a2-15d4-4bfe-8b9c-b75e889a8ea9', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customtypeddata', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,996 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking local_access_en / True
2024-04-03 11:13:59,997 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '4f6a88f7-6e34-4488-952a-fc99a7435d90', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'notices', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,997 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking cloud_access_en / True
2024-04-03 11:13:59,997 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:13:59,997 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking region / NA
2024-04-03 11:13:59,997 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'a63aa5fc-b0ba-4662-9083-5c0be322b36e', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'nsdata', 'value': '', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,997 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_EMAIL / christian.olgaard@gmail.com
2024-04-03 11:13:59,998 Command    udi_interface.interface DEBUG    interface:_handleInput: Key nsdata should be passed to node server.
2024-04-03 11:13:59,998 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_PASSWORD / coe123COE
2024-04-03 11:13:59,998 Thread-15  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:13:59,998 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '29eefc43-b94b-476e-a162-f6d3473acd4b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauth', 'value': '{"name":"Tesla PW2","client_id":"6e635ec38dc4-4d2a-a35e-f164b51f3d96","client_secret":"ta-secret.S@z5uUjp*sxoS2rS","auth_endpoint":"https://auth.tesla.com/oauth2/v3/authorize","token_endpoint":"https://auth.tesla.com/oauth2/v3/token","scope":"energy_device_data energy_cmds open_id offline_access","addRedirect":true,"token_parameters":{"audience":"https://fleet-api.prd.na.vn.cloud.tesla.com"}}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,998 Thread-14  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_IP_ADDRESS / 192.168.1.151
2024-04-03 11:13:59,998 Thread-15  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:13:59,999 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauth should be passed to node server.
2024-04-03 11:13:59,999 Thread-14  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler called {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:13:59,999 Thread-16  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:13:59,999 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '78cf61f5-c53b-4a53-bc8f-831c088160dc', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauthTokens', 'value': '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg","refresh_token":"NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104","id_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA","expires_in":28800,"state":"660d98dc639f575636b758f8","token_type":"Bearer"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:13:59,999 Thread-14  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler fnish 
2024-04-03 11:14:00,000 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': True, 'token_parameters': {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}}
2024-04-03 11:14:00,000 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauthTokens should be passed to node server.
2024-04-03 11:14:00,000 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking name / Tesla PW2
2024-04-03 11:14:00,000 Thread-17  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:14:00,001 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_id / 6e635ec38dc4-4d2a-a35e-f164b51f3d96
2024-04-03 11:14:00,001 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:14:00,001 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_secret / ta-secret.S@z5uUjp*sxoS2rS
2024-04-03 11:14:00,001 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg
2024-04-03 11:14:00,001 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking auth_endpoint / https://auth.tesla.com/oauth2/v3/authorize
2024-04-03 11:14:00,001 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104
2024-04-03 11:14:00,001 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_endpoint / https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:14:00,002 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA
2024-04-03 11:14:00,002 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking scope / energy_device_data energy_cmds open_id offline_access
2024-04-03 11:14:00,002 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:14:00,002 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking addRedirect / True
2024-04-03 11:14:00,002 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d98dc639f575636b758f8
2024-04-03 11:14:00,002 Thread-16  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_parameters / {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}
2024-04-03 11:14:00,002 Thread-17  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:14:00,003 Thread-16  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:14:00,003 Thread-17  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:14:00,035 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getNsInfo
2024-04-03 11:14:00,038 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getNsInfo
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '72b13908-c383-4bd8-89c3-1c0b9022cc87', 'uuid': '00:21:b9:02:61:b7', 'token': 'nm)7oOqds5ti*&=a', 'name': 'TestTeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 10, 'timeAdded': 1692982303964, 'timeStarted': 1693241879801, 'timeModified': 1706665217143, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_10', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'ceb1c94f-d762-476d-945d-df6626d8f3ed', 'uuid': '00:21:b9:02:61:b7', 'token': '*o&sqXI5HKv(Z/QC', 'name': 'TeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 11, 'timeAdded': 1693242193683, 'timeStarted': 1694619361730, 'timeModified': 1706665227502, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_11', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 1, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '3ecb8496-dd1b-4b44-affc-477d8f04be61', 'uuid': '00:21:b9:02:61:b7', 'token': ')TOE7TXZ0?7b%m+D', 'name': 'Blink_Test', 'nsid': 'null', 'expires': 0, 'nickname': None, 'profileNum': 15, 'timeAdded': 1697762273372, 'timeStarted': 1697922521989, 'timeModified': 1706665251091, 'version': '0.3.22', 'branch': 'develop1', 'url': 'https://github.com/Panda88CO/udi-Blink.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_15', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiBlinkController.py', 'shortPoll': 60, 'longPoll': 600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': 'setup', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '119ff071-becc-4671-9134-501a040a40ef', 'noLicense': 1, 'latestVersion': '0.3.22', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'cb796c25-3a1e-490e-bf83-92c9c15f5b03', 'uuid': '00:21:b9:02:61:b7', 'token': 'NsPhTSnDcu&*G7br', 'name': 'YoLink', 'nsid': '78312440-23ea-4ed6-9361-9cdc2d5e7c6b', 'expires': 0, 'nickname': None, 'profileNum': 14, 'timeAdded': 1705102703600, 'timeStarted': 1711382441688, 'timeModified': 1711383836980, 'version': '1.0.6', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-yolink', 'home': '/var/polyglot/pg3/ns/0021b90261b7_14', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-YoLink.py', 'shortPoll': 300, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '8fe210d4-6947-401f-ac84-a89183bfbb2e', 'noLicense': 1, 'latestVersion': '1.0.6', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '0a812325-3917-4f08-ac4e-d407b0f7ab06', 'uuid': '00:21:b9:02:61:b7', 'token': 'Lkq+s*WC!ZuDSJZ0', 'name': 'Hubitat2udi', 'nsid': 'c8db0012-a8ca-451c-a80a-8623a5df7832', 'expires': 0, 'nickname': None, 'profileNum': 1, 'timeAdded': 1706165856265, 'timeStarted': 1709087937744, 'timeModified': 1709087994398, 'version': '0.1.7', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi-hubitat.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_1', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-hubitat.py', 'shortPoll': 60, 'longPoll': 300, 'nsInfoPoll': 0, 'discover': 1, 'oauth': 0, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '56aa578d-e252-4808-8b5e-14fb80b6c5ce', 'noLicense': 1, 'latestVersion': '0.1.7', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'b56303f4-9451-4fcf-8a7c-cb8a02252352', 'uuid': '00:21:b9:02:61:b7', 'token': 'JuAI6zN-!*NeKzpF', 'name': 'NetatmoWeather', 'nsid': 'f3326c80-929c-4f42-9380-a30e567c4e1d', 'expires': 0, 'nickname': None, 'profileNum': 9, 'timeAdded': 1708373613025, 'timeStarted': 1710350273644, 'timeModified': 1710350799062, 'version': '0.1.2', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-netatmo', 'home': '/var/polyglot/pg3/ns/0021b90261b7_9', 'log': 'logs/debug.log', 'logLevel': 'INFO', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoWeather.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '5e1974fa-3039-4899-aa2c-da6467a82eaf', 'noLicense': 1, 'latestVersion': '0.1.2', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:00,039 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'f6b38d0e-68b3-4f6b-841b-b144619ce9f9', 'uuid': '00:21:b9:02:61:b7', 'token': 'e&n*)M4HwOXPvIDL', 'name': 'udi_TeslaPW2', 'nsid': '54b95e4d-9a96-4281-92e2-56dcb85994ef', 'expires': 0, 'nickname': None, 'profileNum': 17, 'timeAdded': 1709680744932, 'timeStarted': 1712168030507, 'timeModified': 1712168039972, 'version': '0.1.5', 'branch': 'dev_new', 'url': 'https://github.com/Panda88CO/udi-teslaPW2', 'home': '/var/polyglot/pg3/ns/0021b90261b7_17', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaPWmain.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 0, 'status_node': 'controller', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '39568995-72c5-48ea-8e7d-760cd7a92e46', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:00,040 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'baaebe82-589b-4685-9fe3-8d5781efebfa', 'uuid': '00:21:b9:02:61:b7', 'token': 'XtU!uPV&dp!eLXB5', 'name': 'NetatmoEnergy', 'nsid': '13cf0b77-25df-4aae-8971-1bc2c13e09e7', 'expires': 0, 'nickname': None, 'profileNum': 19, 'timeAdded': 1711646100554, 'timeStarted': 1711750281802, 'timeModified': 1711750295473, 'version': '0.1.5', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi_netatmo_energy', 'home': '/var/polyglot/pg3/ns/0021b90261b7_19', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoEnergy.py', 'shortPoll': 600, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '28eafcb2-ed0e-4c3b-9f16-d8c0060d675a', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:14:00,083 MQTT       udi_interface.interface INFO     interface:_message: Successfully set controller :: GV4 to 1 UOM 25
2024-04-03 11:14:00,321 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message addnode
2024-04-03 11:14:00,322 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING addnode
2024-04-03 11:14:00,322 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS addnode message {'id': 'adae2f5b-850c-4abf-bf57-eab604ee361d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'name': 'Olgaard Saratoga', 'nodeDefId': 'pwstatus', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1710982132539, 'timeModified': 1710982132539, 'dbVersion': 1} from Polyglot
2024-04-03 11:14:00,322 Thread-21  udi_interface      DEBUG    TeslaPWStatusNode:start: Start Tesla Power Wall Status Node
2024-04-03 11:14:00,322 Command    udi_interface.interface DEBUG    interface:_handleResult: add node response: {'id': 'adae2f5b-850c-4abf-bf57-eab604ee361d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'name': 'Olgaard Saratoga', 'nodeDefId': 'pwstatus', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1710982132539, 'timeModified': 1710982132539, 'dbVersion': 1}
2024-04-03 11:14:00,323 Thread-21  udi_interface      INFO     TeslaPWStatusNode:start: Adding power wall sub-nodes
2024-04-03 11:14:00,323 Thread-21  udi_interface      DEBUG    TeslaInfo:teslaInitializeData: teslaInitializeData
2024-04-03 11:14:00,323 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: teslaUpdateCloudData - 2252180231966670 all
2024-04-03 11:14:00,324 Thread-21  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : False {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:14:00,324 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is expired since None. Initiating refresh.
2024-04-03 11:14:00,324 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Refresh token before: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:14:00,324 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh body grant_type=refresh_token&refresh_token=NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104&client_id=6e635ec38dc4-4d2a-a35e-f164b51f3d96&client_secret=ta-secret.S%40z5uUjp%2AsxoS2rS&redirect_uri=https%3A%2F%2Fmy.isy.io%2Fapi%2Fcloudlink%2Fredirect&scope=energy_device_data+energy_cmds+open_id+offline_access&audience=https%3A%2F%2Ffleet-api.prd.na.vn.cloud.tesla.com
2024-04-03 11:14:01,293 Thread-21  udi_interface      ERROR    oauth:_oAuthTokensRefresh: Failed to refresh oAuth token: 401 Client Error: Unauthorized for url: https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:14:01,294 Thread-21  udi_interface      ERROR    oauth:_oAuthTokensRefresh: {
  "error": "login_required",
  "error_description": "Login required",
  "referenceID": "e3080243-80c7-4d51-92cf-19dd7bce4e28-1712168041236"
}
2024-04-03 11:14:01,295 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:01,295 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:01,295 Thread-21  udi_interface      DEBUG    TeslaOauth:try_authendication: access token (try auth {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'})
2024-04-03 11:14:01,295 Thread-21  udi_interface      INFO     TeslaPWOauth:teslaUpdateCloudData: Cloud Access not Authenticated yet - press Autenticate button
2024-04-03 11:14:01,301 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:01,316 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:01,316 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:01,316 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:01,316 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:01,316 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:01,358 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:06,333 Thread-21  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : False {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:14:06,334 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is expired since None. Initiating refresh.
2024-04-03 11:14:06,334 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Refresh token before: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'}
2024-04-03 11:14:06,334 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh body grant_type=refresh_token&refresh_token=NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104&client_id=6e635ec38dc4-4d2a-a35e-f164b51f3d96&client_secret=ta-secret.S%40z5uUjp%2AsxoS2rS&redirect_uri=https%3A%2F%2Fmy.isy.io%2Fapi%2Fcloudlink%2Fredirect&scope=energy_device_data+energy_cmds+open_id+offline_access&audience=https%3A%2F%2Ffleet-api.prd.na.vn.cloud.tesla.com
2024-04-03 11:14:06,607 Thread-21  udi_interface      ERROR    oauth:_oAuthTokensRefresh: Failed to refresh oAuth token: 401 Client Error: Unauthorized for url: https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:14:06,607 Thread-21  udi_interface      ERROR    oauth:_oAuthTokensRefresh: {
  "error": "login_required",
  "error_description": "Login required",
  "referenceID": "75100aa9-a6ae-4f8d-8d0c-7137931b10a4-1712168046551"
}
2024-04-03 11:14:06,608 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:06,609 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:06,609 Thread-21  udi_interface      DEBUG    TeslaOauth:try_authendication: access token (try auth {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk1OTM0LCJpYXQiOjE3MTIxNjcxMzQsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY3MTMzfQ.soooYzWqHADvVUCgtBrGmZbHFoM6hNtqQkumU3pvCd8CTGD9_1vgBMnSPEDyR0sZs4ygJFVHD4tjoTVck01LEKp4rVRGpK9j0UcZJazDyhQmOx-6b3x9ns2vrsGyI9TcsclvdHBSAVnlTsIrHkOvtDL0HmKes7C-zRUafaawBD-FHF5P6IsDx2fb6_AOTAwZJXn2EYhhgdqmLO-R3LzApaTn-ApmhOKVpegiD_OFxHaCem2pf8xZWrUMXnoIdie4AWWy7ARgQMCBfyy-Entp5AHH1jzw0hhgDDbldufnt4yxU6pAhw9Ke7hpIvgl8rpInN-a9hps7XTF9x1Ok457Dg', 'refresh_token': 'NA_3f39f6c53fc1cacd39691ce65338dbd18970210ca50170d14d9f5c39f7e94104', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5NTkzNCwiaWF0IjoxNzEyMTY3MTM0LCJhdXRoX3RpbWUiOjE3MTIxNjcxMzMsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.Ta19P9Nhzt3pZsLRz79yvXPyl2ApXenknJxRYRx27fkyTaqacanZBafgiTM7-JImV3O2C8xntFWNhozrNuEBHnT6ksLKgEYjMEvtbj2BYMiL_Tiz4VaJH_PXuJ4DyrOv01iGjYhbW1smwFfpNV7yvIFufVHGP8es1BW61xiI4VP_0Cp3T3UWza4J-EBwD-7Yct_z0yL_aF-uo0pFP3Rlus5hBCXd4_q7jIzDhVqm8JFOhTmbL3VQnvfGmBmPh--xVolro5MQ8A9hLPOZXMxH7VGY6qRDD1qHBIuoIDk6fDZFJh6tJ0OaN-dYLbTn9csxPRR3VDs_W1eovU-ol_J6eA', 'expires_in': 28800, 'state': '660d98dc639f575636b758f8', 'token_type': 'Bearer'})
2024-04-03 11:14:06,609 Thread-21  udi_interface      INFO     TeslaPWOauth:teslaUpdateCloudData: Cloud Access not Authenticated yet - press Autenticate button
2024-04-03 11:14:06,609 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:06,625 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:06,626 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:06,626 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:06,626 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:06,626 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:06,667 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:08,648 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message oauth
2024-04-03 11:14:08,648 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING oauth
2024-04-03 11:14:08,648 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS oauth message {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer'} from Polyglot
2024-04-03 11:14:08,648 Thread-24  udi_interface      DEBUG    TeslaOauth:oauthHandler: oauthHandler called
2024-04-03 11:14:08,649 Thread-24  udi_interface      INFO     oauth:oauthHandler: Received oAuth tokens: {"access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng", "refresh_token": "NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c", "id_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw", "expires_in": 28800, "state": "660d9c6dc7f72f1c33d2dedc", "token_type": "Bearer"}
2024-04-03 11:14:08,649 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:14:08.649364'}
2024-04-03 11:14:08,649 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng
2024-04-03 11:14:08,649 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c
2024-04-03 11:14:08,649 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw
2024-04-03 11:14:08,649 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:14:08,650 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d9c6dc7f72f1c33d2dedc
2024-04-03 11:14:08,650 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:14:08,650 Thread-24  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expiry / 2024-04-03T19:14:08.649364
2024-04-03 11:14:08,650 Thread-24  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:08,650 Thread-24  udi_interface      DEBUG    TeslaOauth:oauthHandler: oauthHandler eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng 
2024-04-03 11:14:08,650 Thread-24  udi_interface      DEBUG    TeslaOauth:oauthHandler: oauthHandler Finished
2024-04-03 11:14:08,650 Thread-24  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:08,650 Thread-24  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:08,650 Thread-24  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:08,659 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:08,702 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:08,703 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:08,703 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:08,703 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:08,703 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:08,744 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:11,620 Thread-21  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:14:08.649364'}
2024-04-03 11:14:11,620 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: tesla_get_live_status 
2024-04-03 11:14:11,620 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:11,621 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:11,621 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:11,621 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/live_status, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:11,630 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:11,645 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:11,646 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:11,646 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:11,646 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:11,646 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:11,685 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:11,844 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: live_status: {'response': {'solar_power': 2040.0799560546875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 525.179931640625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1514.9000244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:14:11-07:00', 'wall_connectors': []}} 
2024-04-03 11:14:11,845 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: sitelive : {'2252180231966670': {'solar_power': 2040.0799560546875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 525.179931640625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1514.9000244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:14:11-07:00', 'wall_connectors': []}}
2024-04-03 11:14:11,845 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: tesla_get_site_info 
2024-04-03 11:14:11,845 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:11,845 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:11,845 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:11,845 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/site_info, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:11,854 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:11,870 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:11,870 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:11,871 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:11,871 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:11,871 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:11,912 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:12,154 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: site_info: {'response': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}} 
2024-04-03 11:14:12,155 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: site info: {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:14:12,155 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: self.site_info {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:14:12,155 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : energy
2024-04-03 11:14:12,155 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'energy', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:00-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:12,155 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:12,155 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:12,155 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:12,156 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=energy&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:00-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:12,163 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:12,178 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:12,179 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:12,179 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:12,179 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:12,179 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:12,220 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:12,451 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (energy) = {'response': {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}}
2024-04-03 11:14:12,451 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 energy {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:14:12,451 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_energy_data: process_energy_data: {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:14:12,452 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:12,452 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : backup
2024-04-03 11:14:12,452 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'backup', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:12-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:12,452 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:12,452 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:12,452 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:12,452 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=backup&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:12-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:12,462 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:12,478 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:12,478 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:12,478 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:12,478 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:12,479 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:12,520 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:12,641 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (backup) = {'response': {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:12-07:00', 'next_end_date': '2024-04-02T11:14:12-07:00'}}
2024-04-03 11:14:12,641 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 backup {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:12-07:00', 'next_end_date': '2024-04-02T11:14:12-07:00'}
2024-04-03 11:14:12,641 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_backup_data: process_backup_data: {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:12-07:00', 'next_end_date': '2024-04-02T11:14:12-07:00'}
2024-04-03 11:14:12,641 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:12,642 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : charge
2024-04-03 11:14:12,642 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'charge', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:12-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:12,642 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:12,642 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:12,642 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:12,642 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:12-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:12,645 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:12,660 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:12,660 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:12,660 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:12,660 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:12,660 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:12,700 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:12,784 Thread-21  udi_interface      ERROR    TeslaOauth:_callApi: Call GET https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:12-07:00&period=day&time_zone=PDT failed: 400 Client Error: Bad Request for url: https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:12-07:00&period=day&time_zone=PDT
2024-04-03 11:14:12,785 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (charge) = None
2024-04-03 11:14:12,785 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: history_data : {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:12,785 Thread-21  udi_interface      DEBUG    TeslaInfo:teslaInitializeData: teslaInitializeData - 1 - grid status <enum 'GridStatus'> 
2024-04-03 11:14:12,785 Thread-21  udi_interface.node DEBUG    node:_updateDrivers: Update setup_31966670 default GV1 to 31 / 51
2024-04-03 11:14:12,786 Thread-21  udi_interface.node DEBUG    node:_updateDrivers: Update setup_31966670 default GV2 to 2 / 25
2024-04-03 11:14:12,786 Thread-21  udi_interface.node DEBUG    node:_updateDrivers: Update setup_31966670 default GV3 to None / 25
2024-04-03 11:14:12,786 Thread-21  udi_interface      INFO     TeslaPWSetupNode:__init__: _init_ Tesla Power Wall setup Node
2024-04-03 11:14:12,786 Thread-21  udi_interface.interface DEBUG    interface:ready: Asking PG3 for config/getAll now
2024-04-03 11:14:12,786 Thread-21  udi_interface.interface INFO     interface:addNode: Adding node Setup PW Parameters(setup_31966670) [None]
2024-04-03 11:14:12,786 Thread-21  udi_interface      DEBUG    TeslaInfo:teslaInitializeData: teslaInitializeData
2024-04-03 11:14:12,787 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: teslaUpdateCloudData - 2252180231966670 all
2024-04-03 11:14:12,787 Thread-21  udi_interface      DEBUG    TeslaOauth:authendicated: authendicated : True {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:14:08.649364'}
2024-04-03 11:14:12,787 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: tesla_get_live_status 
2024-04-03 11:14:12,787 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:08.649364, no need to refresh
2024-04-03 11:14:12,787 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:12,787 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:12,787 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/live_status, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng'}, body =
2024-04-03 11:14:12,793 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'config': {'version': '0.1.5', 'requestId': False}}
2024-04-03 11:14:12,794 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'getAll': {}}
2024-04-03 11:14:12,794 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'getNsInfo': {}}
2024-04-03 11:14:12,794 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'addnode': [{'address': 'setup_31966670', 'name': 'Setup PW Parameters', 'nodeDefId': 'pwsetup', 'primaryNode': '52180231966670', 'drivers': [{'driver': 'GV1', 'value': '31', 'uom': 51}, {'driver': 'GV2', 'value': '2', 'uom': 25}, {'driver': 'GV3', 'value': 'None', 'uom': 25}], 'hint': [0, 0, 0, 0], 'private': None, 'rename': True}]}
2024-04-03 11:14:12,795 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:12,813 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message config
2024-04-03 11:14:12,814 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING config
2024-04-03 11:14:12,814 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS config message {'id': 'f6b38d0e-68b3-4f6b-841b-b144619ce9f9', 'uuid': '00:21:b9:02:61:b7', 'token': 'e&n*)M4HwOXPvIDL', 'name': 'udi_TeslaPW2', 'nsid': '54b95e4d-9a96-4281-92e2-56dcb85994ef', 'expires': 0, 'nickname': None, 'profileNum': 17, 'timeAdded': 1709680744932, 'timeStarted': 1712168030507, 'timeModified': 1712168052803, 'version': '0.1.5', 'branch': 'dev_new', 'url': 'https://github.com/Panda88CO/udi-teslaPW2', 'home': '/var/polyglot/pg3/ns/0021b90261b7_17', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaPWmain.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 0, 'status_node': 'controller', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '39568995-72c5-48ea-8e7d-760cd7a92e46', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard', 'notices': {}, 'nodes': [{'id': 'adae2f5b-850c-4abf-bf57-eab604ee361d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'name': 'Olgaard Saratoga', 'nodeDefId': 'pwstatus', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1710982132539, 'timeModified': 1710982132539, 'dbVersion': 1, 'drivers': [{'id': '9c917e00-20dc-4068-9970-a5f31591236c', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV0', 'value': -1, 'uom': 33, 'timeAdded': 1712168040188, 'timeModified': 1712168040188, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '1a2b6554-3bac-4abc-8fc4-639ce6420c92', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV1', 'value': 0, 'uom': 51, 'timeAdded': 1712168040207, 'timeModified': 1712168040207, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '294ffa8f-eaa5-40ee-bf31-e71076cd4c41', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV10', 'value': 0, 'uom': 33, 'timeAdded': 1712168040269, 'timeModified': 1712168040269, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '73e361e6-baf7-4cd6-a64a-595f52f2287f', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV11', 'value': 0, 'uom': 33, 'timeAdded': 1712168040273, 'timeModified': 1712168040273, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'c8ec28f9-74d7-4a29-888e-9031dcba806b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV12', 'value': 0, 'uom': 33, 'timeAdded': 1712168040277, 'timeModified': 1712168040277, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '4a416cd0-9a5a-4ba2-9251-a6489055f6dc', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV13', 'value': 0, 'uom': 33, 'timeAdded': 1712168040282, 'timeModified': 1712168040282, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '79c33f5e-0505-44b7-9c8f-6e35ebc24265', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV14', 'value': 0, 'uom': 33, 'timeAdded': 1712168040286, 'timeModified': 1712168040286, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'b17cc6c5-9774-44e7-9873-a1aa9c46728b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV15', 'value': 0, 'uom': 33, 'timeAdded': 1712168040290, 'timeModified': 1712168040290, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '64121530-de3c-4435-9c8b-a6720c4ec9ff', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV16', 'value': 0, 'uom': 33, 'timeAdded': 1712168040295, 'timeModified': 1712168040295, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '2a78bde5-c50e-4b04-94e7-80bcdf07c8f0', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV17', 'value': 0, 'uom': 33, 'timeAdded': 1712168040299, 'timeModified': 1712168040299, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'db0a9984-120b-445c-923f-986c470a47ac', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV18', 'value': 0, 'uom': 33, 'timeAdded': 1712168040304, 'timeModified': 1712168040304, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'e60dddab-fba3-4260-a85d-a9079aae3f36', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV19', 'value': 0, 'uom': 33, 'timeAdded': 1712168040308, 'timeModified': 1712168040308, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'e2927307-b5d2-40a3-a3d6-d64938e9f459', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV2', 'value': 0, 'uom': 25, 'timeAdded': 1712168040224, 'timeModified': 1712168040224, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '59c0137b-b844-4519-9c0e-c44674a891bb', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV20', 'value': 0, 'uom': 33, 'timeAdded': 1712168040313, 'timeModified': 1712168040313, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '9de4a900-1954-4141-9585-6412af280986', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV3', 'value': 0, 'uom': 25, 'timeAdded': 1712168040239, 'timeModified': 1712168040239, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '41a0e36e-6454-40d9-8de3-8d37e16b5a7e', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV4', 'value': 0, 'uom': 25, 'timeAdded': 1712168040244, 'timeModified': 1712168040244, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '9a70e855-98ae-4a78-aa2e-f66b8f3280e8', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV5', 'value': 0, 'uom': 25, 'timeAdded': 1712168040248, 'timeModified': 1712168040248, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'feda4bc2-e8a9-4248-b8bf-f5348761ab8b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV6', 'value': 0, 'uom': 33, 'timeAdded': 1712168040252, 'timeModified': 1712168040252, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '69425710-20af-4ffa-92e8-8b8566a77f7f', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV7', 'value': 0, 'uom': 33, 'timeAdded': 1712168040256, 'timeModified': 1712168040256, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '138add82-b23f-4476-b511-968a42258daa', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV8', 'value': 0, 'uom': 33, 'timeAdded': 1712168040261, 'timeModified': 1712168040261, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '2b73fbe3-8173-4249-bd12-9a142d6da58a', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': '52180231966670', 'driver': 'GV9', 'value': 0, 'uom': 33, 'timeAdded': 1712168040265, 'timeModified': 1712168040265, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '3dd76fdd-905e-4b23-bbca-c15edf56469d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'name': 'Tesla PowerWall Info', 'nodeDefId': 'controller', 'nls': None, 'hint': '0x00000000', 'controller': 1, 'primaryNode': 'controller', 'private': None, 'isPrimary': 1, 'enabled': 1, 'timeAdded': 1709680759730, 'timeModified': 1712168033604, 'dbVersion': 1, 'drivers': [{'id': 'e2f8d56d-3d7e-4587-95d3-807d6ae7d0a3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV2', 'value': '0', 'uom': 25, 'timeAdded': 1709680759840, 'timeModified': 1711755995104, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'b829dea1-8768-4a48-a8ef-19f480574569', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV3', 'value': '0', 'uom': 55, 'timeAdded': 1709680759844, 'timeModified': 1711755995127, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'c546a2a1-64be-4541-9a49-3be592a9fe13', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'GV4', 'value': '1', 'uom': 25, 'timeAdded': 1709680759848, 'timeModified': 1712168040077, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '053a6934-d097-481a-bb63-c9c08d738d24', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'controller', 'driver': 'ST', 'value': '1', 'uom': 25, 'timeAdded': 1709680759835, 'timeModified': 1712168033877, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '7b76f023-4106-4d04-b9a7-6c50821556ca', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'name': 'Setup PW Parameters', 'nodeDefId': 'pwsetup', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161729, 'timeModified': 1711153161729, 'dbVersion': 1, 'drivers': [{'id': 'fcca195e-e374-49a8-8054-191ba31f839d', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV1', 'value': '31', 'uom': 51, 'timeAdded': 1711154263259, 'timeModified': 1712014854888, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'f979da53-c1fb-443b-bd84-429bdc50ea4a', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV2', 'value': '2', 'uom': 25, 'timeAdded': 1711154263263, 'timeModified': 1712014854938, 'dbVersion': 1, 'name': None, 'text': None}, {'id': 'f99fb6f6-baf9-4c67-9eda-9ab372690f93', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'driver': 'GV3', 'value': 'None', 'uom': 25, 'timeAdded': 1711154263268, 'timeModified': 1712024141486, 'dbVersion': 1, 'name': None, 'text': None}]}, {'id': '13f147cd-54a5-47f2-a9df-5e3437ea2dc7', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'name': 'Solar Status', 'nodeDefId': 'pwsolar', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161780, 'timeModified': 1711153161780, 'dbVersion': 1, 'drivers': [{'id': 'fdde18b4-6a6e-446c-873b-a06d5d367209', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV1', 'value': '0', 'uom': 33, 'timeAdded': 1711153161969, 'timeModified': 1712014855041, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '816dc2a6-b205-41e5-9860-3a862b2ba209', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV2', 'value': '20.32', 'uom': 33, 'timeAdded': 1711153161973, 'timeModified': 1712014855090, 'dbVersion': 1, 'name': None, 'text': None}, {'id': '7785f01f-b01c-41b0-8881-74e929030aee', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'solar_31966670', 'driver': 'GV3', 'value': '18.52', 'uom': 33, 'timeAdded': 1711153161978, 'timeModified': 1712014855140, 'dbVersion': 1, 'name': None, 'text': None}]}]} from Polyglot
2024-04-03 11:14:12,814 Command    udi_interface.interface DEBUG    interface:_inConfig: INCFG --> start processing config data
2024-04-03 11:14:12,815 Command    udi_interface.interface DEBUG    interface:_inConfig: Setting log level to DEBUG
2024-04-03 11:14:12,816 Thread-26  udi_interface      INFO     TeslaPWmain:handleLevelChange: New log level: {'name': 'DEBUG', 'level': 10}
2024-04-03 11:14:12,826 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getAll
2024-04-03 11:14:12,827 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getAll
2024-04-03 11:14:12,827 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'c53f4a39-a49a-4f9f-b06f-0220d9dae4c4', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparams', 'value': '{"local_access_en":"True","cloud_access_en":"True","region":"NA","LOCAL_USER_EMAIL":"christian.olgaard@gmail.com","LOCAL_USER_PASSWORD":"coe123COE","LOCAL_IP_ADDRESS":"192.168.1.151"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,827 Thread-27  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler 1 : {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:14:08.649364'}
2024-04-03 11:14:12,827 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '6724e99a-35ac-4fd0-be28-5cf300817cd3', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customparamsdoc', 'value': '<h1>teslaPW</h1>\n\n<h2>Installation</h2>\n\n<p>For local access to PowerWall the local IP address (LOCAL<em>IP</em>ADDRESS) along with login  (LOCAL<em>USER</em>EMAIL) and password (LOCAL<em>USER</em>PASSWORD) must be added in configuration</p>\n\n<p>It may be necesary to power cycle (turn power wall on and off using the switch on the local power wall) - the node server will try to login for 5 min so it has to be done within those 5 min.  Often it is sufficient to login using the web interface before starting the node server </p>\n\n<p>For cloud access through Tesla cloud service one must provide a "refresh token" (REFRESH_TOKEN).<br />\nIt can be obtained e.g. using \nAuth for Tesla iPhone app \nhttps://apps.apple.com/us/app/auth-app-for-tesla/id1552058613 \nor </p>\n\n<p>Tesla Tokens \nhttps://play.google.com/store/apps/details?id=net.leveugle.teslatokens</p>\n\n<p>Once the token is accepted the node server will try to keep the token refreshed. </p>\n\n<p>Once installed a status node for each EV registered in the user account is created with sub-nodes for each EV addressing charging and climate control.</p>\n\n<p>If additional functionality is desired contact the author through github - https://github.com/Panda88CO/udi-TeslaPW</p>\n\n<p>Enjoy</p>\n', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,828 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:14:12,828 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'b22ed7a2-15d4-4bfe-8b9c-b75e889a8ea9', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'customtypeddata', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,828 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking local_access_en / True
2024-04-03 11:14:12,828 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '4f6a88f7-6e34-4488-952a-fc99a7435d90', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'notices', 'value': '{}', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,828 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking cloud_access_en / True
2024-04-03 11:14:12,828 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:12,828 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking region / NA
2024-04-03 11:14:12,829 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': 'a63aa5fc-b0ba-4662-9083-5c0be322b36e', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'nsdata', 'value': '', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,829 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_EMAIL / christian.olgaard@gmail.com
2024-04-03 11:14:12,829 Command    udi_interface.interface DEBUG    interface:_handleInput: Key nsdata should be passed to node server.
2024-04-03 11:14:12,829 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_USER_PASSWORD / coe123COE
2024-04-03 11:14:12,829 Thread-28  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:14:12,829 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '29eefc43-b94b-476e-a162-f6d3473acd4b', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauth', 'value': '{"name":"Tesla PW2","client_id":"6e635ec38dc4-4d2a-a35e-f164b51f3d96","client_secret":"ta-secret.S@z5uUjp*sxoS2rS","auth_endpoint":"https://auth.tesla.com/oauth2/v3/authorize","token_endpoint":"https://auth.tesla.com/oauth2/v3/token","scope":"energy_device_data energy_cmds open_id offline_access","addRedirect":true,"token_parameters":{"audience":"https://fleet-api.prd.na.vn.cloud.tesla.com"}}', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,830 Thread-27  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking LOCAL_IP_ADDRESS / 192.168.1.151
2024-04-03 11:14:12,830 Thread-28  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:14:12,830 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauth should be passed to node server.
2024-04-03 11:14:12,830 Thread-27  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler called {'local_access_en': 'True', 'cloud_access_en': 'True', 'region': 'NA', 'LOCAL_USER_EMAIL': 'christian.olgaard@gmail.com', 'LOCAL_USER_PASSWORD': 'coe123COE', 'LOCAL_IP_ADDRESS': '192.168.1.151'}
2024-04-03 11:14:12,831 Thread-29  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:14:12,831 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getAll message {'id': '78cf61f5-c53b-4a53-bc8f-831c088160dc', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'key': 'oauthTokens', 'value': '{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng","refresh_token":"NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c","id_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw","expires_in":28800,"state":"660d9c6dc7f72f1c33d2dedc","token_type":"Bearer"}', 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,831 Thread-27  udi_interface      DEBUG    TeslaPWmain:customParamsHandler: customParamsHandler fnish 
2024-04-03 11:14:12,831 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'name': 'Tesla PW2', 'client_id': '6e635ec38dc4-4d2a-a35e-f164b51f3d96', 'client_secret': 'ta-secret.S@z5uUjp*sxoS2rS', 'auth_endpoint': 'https://auth.tesla.com/oauth2/v3/authorize', 'token_endpoint': 'https://auth.tesla.com/oauth2/v3/token', 'scope': 'energy_device_data energy_cmds open_id offline_access', 'addRedirect': True, 'token_parameters': {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}}
2024-04-03 11:14:12,831 Command    udi_interface.interface DEBUG    interface:_handleInput: Key oauthTokens should be passed to node server.
2024-04-03 11:14:12,831 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking name / Tesla PW2
2024-04-03 11:14:12,832 Thread-30  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler called
2024-04-03 11:14:12,832 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_id / 6e635ec38dc4-4d2a-a35e-f164b51f3d96
2024-04-03 11:14:12,832 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer'}
2024-04-03 11:14:12,832 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking client_secret / ta-secret.S@z5uUjp*sxoS2rS
2024-04-03 11:14:12,832 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng
2024-04-03 11:14:12,833 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking auth_endpoint / https://auth.tesla.com/oauth2/v3/authorize
2024-04-03 11:14:12,833 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c
2024-04-03 11:14:12,833 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_endpoint / https://auth.tesla.com/oauth2/v3/token
2024-04-03 11:14:12,833 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw
2024-04-03 11:14:12,833 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking scope / energy_device_data energy_cmds open_id offline_access
2024-04-03 11:14:12,833 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:14:12,833 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking addRedirect / True
2024-04-03 11:14:12,834 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d9c6dc7f72f1c33d2dedc
2024-04-03 11:14:12,834 Thread-29  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_parameters / {'audience': 'https://fleet-api.prd.na.vn.cloud.tesla.com'}
2024-04-03 11:14:12,834 Thread-30  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:14:12,834 Thread-29  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:14:12,834 Thread-30  udi_interface      DEBUG    TeslaOauth:customNsHandler: customNsHandler Finished
2024-04-03 11:14:12,866 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message getNsInfo
2024-04-03 11:14:12,866 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING getNsInfo
2024-04-03 11:14:12,867 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '72b13908-c383-4bd8-89c3-1c0b9022cc87', 'uuid': '00:21:b9:02:61:b7', 'token': 'nm)7oOqds5ti*&=a', 'name': 'TestTeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 10, 'timeAdded': 1692982303964, 'timeStarted': 1693241879801, 'timeModified': 1706665217143, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_10', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'ceb1c94f-d762-476d-945d-df6626d8f3ed', 'uuid': '00:21:b9:02:61:b7', 'token': '*o&sqXI5HKv(Z/QC', 'name': 'TeslaEV', 'nsid': '1d0462a1-2e9a-4b15-9a8a-ed70d641cc72', 'expires': 0, 'nickname': None, 'profileNum': 11, 'timeAdded': 1693242193683, 'timeStarted': 1694619361730, 'timeModified': 1706665227502, 'version': '0.2.31', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-TeslaEV', 'home': '/var/polyglot/pg3/ns/0021b90261b7_11', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaEVController.py', 'shortPoll': 300, 'longPoll': 86400, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '843faf0f-c579-4223-9273-54a5292fa5cd', 'noLicense': 1, 'latestVersion': '0.2.31', 'dbVersion': 1, 'developerMode': 1, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '3ecb8496-dd1b-4b44-affc-477d8f04be61', 'uuid': '00:21:b9:02:61:b7', 'token': ')TOE7TXZ0?7b%m+D', 'name': 'Blink_Test', 'nsid': 'null', 'expires': 0, 'nickname': None, 'profileNum': 15, 'timeAdded': 1697762273372, 'timeStarted': 1697922521989, 'timeModified': 1706665251091, 'version': '0.3.22', 'branch': 'develop1', 'url': 'https://github.com/Panda88CO/udi-Blink.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_15', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiBlinkController.py', 'shortPoll': 60, 'longPoll': 600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': 'setup', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '119ff071-becc-4671-9134-501a040a40ef', 'noLicense': 1, 'latestVersion': '0.3.22', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': None} from Polyglot
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'cb796c25-3a1e-490e-bf83-92c9c15f5b03', 'uuid': '00:21:b9:02:61:b7', 'token': 'NsPhTSnDcu&*G7br', 'name': 'YoLink', 'nsid': '78312440-23ea-4ed6-9361-9cdc2d5e7c6b', 'expires': 0, 'nickname': None, 'profileNum': 14, 'timeAdded': 1705102703600, 'timeStarted': 1711382441688, 'timeModified': 1711383836980, 'version': '1.0.6', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-yolink', 'home': '/var/polyglot/pg3/ns/0021b90261b7_14', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-YoLink.py', 'shortPoll': 300, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 0, 'requestId': 0, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '8fe210d4-6947-401f-ac84-a89183bfbb2e', 'noLicense': 1, 'latestVersion': '1.0.6', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': '0a812325-3917-4f08-ac4e-d407b0f7ab06', 'uuid': '00:21:b9:02:61:b7', 'token': 'Lkq+s*WC!ZuDSJZ0', 'name': 'Hubitat2udi', 'nsid': 'c8db0012-a8ca-451c-a80a-8623a5df7832', 'expires': 0, 'nickname': None, 'profileNum': 1, 'timeAdded': 1706165856265, 'timeStarted': 1709087937744, 'timeModified': 1709087994398, 'version': '0.1.7', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi-hubitat.git', 'home': '/var/polyglot/pg3/ns/0021b90261b7_1', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udi-hubitat.py', 'shortPoll': 60, 'longPoll': 300, 'nsInfoPoll': 0, 'discover': 1, 'oauth': 0, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '56aa578d-e252-4808-8b5e-14fb80b6c5ce', 'noLicense': 1, 'latestVersion': '0.1.7', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:12,867 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'b56303f4-9451-4fcf-8a7c-cb8a02252352', 'uuid': '00:21:b9:02:61:b7', 'token': 'JuAI6zN-!*NeKzpF', 'name': 'NetatmoWeather', 'nsid': 'f3326c80-929c-4f42-9380-a30e567c4e1d', 'expires': 0, 'nickname': None, 'profileNum': 9, 'timeAdded': 1708373613025, 'timeStarted': 1710350273644, 'timeModified': 1710350799062, 'version': '0.1.2', 'branch': 'main', 'url': 'https://github.com/Panda88CO/udi-netatmo', 'home': '/var/polyglot/pg3/ns/0021b90261b7_9', 'log': 'logs/debug.log', 'logLevel': 'INFO', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 0, 'connected': 0, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoWeather.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Production', 'option': '5e1974fa-3039-4899-aa2c-da6467a82eaf', 'noLicense': 1, 'latestVersion': '0.1.2', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:12,868 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'f6b38d0e-68b3-4f6b-841b-b144619ce9f9', 'uuid': '00:21:b9:02:61:b7', 'token': 'e&n*)M4HwOXPvIDL', 'name': 'udi_TeslaPW2', 'nsid': '54b95e4d-9a96-4281-92e2-56dcb85994ef', 'expires': 0, 'nickname': None, 'profileNum': 17, 'timeAdded': 1709680744932, 'timeStarted': 1712168030507, 'timeModified': 1712168052803, 'version': '0.1.5', 'branch': 'dev_new', 'url': 'https://github.com/Panda88CO/udi-teslaPW2', 'home': '/var/polyglot/pg3/ns/0021b90261b7_17', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'TeslaPWmain.py', 'shortPoll': 300, 'longPoll': 1800, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 0, 'status_node': 'controller', 'status_driver': 'ST', 'orderId': None, 'store': 'Local', 'option': '39568995-72c5-48ea-8e7d-760cd7a92e46', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Standard'} from Polyglot
2024-04-03 11:14:12,868 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS getNsInfo message {'id': 'baaebe82-589b-4685-9fe3-8d5781efebfa', 'uuid': '00:21:b9:02:61:b7', 'token': 'XtU!uPV&dp!eLXB5', 'name': 'NetatmoEnergy', 'nsid': '13cf0b77-25df-4aae-8971-1bc2c13e09e7', 'expires': 0, 'nickname': None, 'profileNum': 19, 'timeAdded': 1711646100554, 'timeStarted': 1711750281802, 'timeModified': 1711750295473, 'version': '0.1.5', 'branch': 'develop', 'url': 'https://github.com/Panda88CO/udi_netatmo_energy', 'home': '/var/polyglot/pg3/ns/0021b90261b7_19', 'log': 'logs/debug.log', 'logLevel': 'DEBUG', 'logLevelList': '[{"id":4,"name":"Debug","value":"DEBUG","level":10},{"id":3,"name":"Info","value":"INFO","level":20},{"id":2,"name":"Warning","value":"WARNING","level":30},{"id":1,"name":"Error","value":"ERROR","level":40},{"id":0,"name":"Critical","value":"CRITICAL","level":50}]', 'enabled': 1, 'connected': 1, 'devMode': 0, 'type': 'python3', 'executable': 'udiNetatmoEnergy.py', 'shortPoll': 600, 'longPoll': 3600, 'nsInfoPoll': 0, 'discover': 0, 'oauth': 1, 'requestId': 1, 'status_node': None, 'status_driver': None, 'orderId': None, 'store': 'Local', 'option': '28eafcb2-ed0e-4c3b-9f16-d8c0060d675a', 'noLicense': 1, 'latestVersion': '0.1.5', 'dbVersion': 1, 'developerMode': 0, 'allowIsyAccess': 0, 'edition': 'Free'} from Polyglot
2024-04-03 11:14:12,868 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:12,868 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:12,868 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:12,868 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:12,906 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:12,971 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message addnode
2024-04-03 11:14:12,971 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING addnode
2024-04-03 11:14:12,971 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS addnode message {'id': '7b76f023-4106-4d04-b9a7-6c50821556ca', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'name': 'Setup PW Parameters', 'nodeDefId': 'pwsetup', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161729, 'timeModified': 1711153161729, 'dbVersion': 1} from Polyglot
2024-04-03 11:14:12,972 Thread-34  udi_interface      INFO     TeslaPWSetupNode:start: Starting Setup Node
2024-04-03 11:14:12,972 Command    udi_interface.interface DEBUG    interface:_handleResult: add node response: {'id': '7b76f023-4106-4d04-b9a7-6c50821556ca', 'uuid': '00:21:b9:02:61:b7', 'profileNum': 17, 'address': 'setup_31966670', 'name': 'Setup PW Parameters', 'nodeDefId': 'pwsetup', 'nls': None, 'hint': '0x00000000', 'controller': 0, 'primaryNode': '52180231966670', 'private': None, 'isPrimary': 0, 'enabled': 1, 'timeAdded': 1711153161729, 'timeModified': 1711153161729, 'dbVersion': 1}
2024-04-03 11:14:12,972 Thread-34  udi_interface      DEBUG    TeslaPWSetupNode:updateISYdrivers: Node updateISYdrivers
2024-04-03 11:14:12,973 Thread-34  udi_interface      DEBUG    TeslaPWOauth:teslaExtractBackupPercent: teslaExtractBackupPercent : 2252180231966670 {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:14:12,973 Thread-34  udi_interface      DEBUG    TeslaInfo:getTPW_backoffLevel: getTPW_backoffLevel31
2024-04-03 11:14:12,973 Thread-34  udi_interface.node DEBUG    node:setDriver: setup_31966670:Setup PW Parameters Reporting set GV1 to 31 to Polyglot
2024-04-03 11:14:12,973 Thread-34  udi_interface.node DEBUG    node:reportDriver: Updating value to 31
2024-04-03 11:14:12,973 Thread-34  udi_interface      DEBUG    TeslaInfo:getTPW_operationMode: getTPW_operationMode autonomous
2024-04-03 11:14:12,973 Thread-34  udi_interface.node DEBUG    node:setDriver: setup_31966670:Setup PW Parameters Reporting set GV2 to 2 to Polyglot
2024-04-03 11:14:12,973 Thread-34  udi_interface.node DEBUG    node:reportDriver: Updating value to 2
2024-04-03 11:14:12,973 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'address': 'setup_31966670', 'driver': 'GV1', 'value': '31', 'uom': 51, 'text': None}]}
2024-04-03 11:14:12,974 Thread-34  udi_interface      DEBUG    TeslaInfo:getTPW_stormMode: getTPW_stormMode 
2024-04-03 11:14:12,974 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'address': 'setup_31966670', 'driver': 'GV2', 'value': '2', 'uom': 25, 'text': None}]}
2024-04-03 11:14:12,974 Thread-34  udi_interface.node DEBUG    node:setDriver: setup_31966670:Setup PW Parameters Reporting set GV3 to 0 to Polyglot
2024-04-03 11:14:12,974 Thread-34  udi_interface.node DEBUG    node:reportDriver: Updating value to 0
2024-04-03 11:14:12,975 Thread-34  udi_interface      ERROR    udi_interface:write: Exception in thread
2024-04-03 11:14:12,975 Thread-34  udi_interface      ERROR    udi_interface:write: Thread-34
2024-04-03 11:14:12,975 Thread-34  udi_interface      ERROR    udi_interface:write: :
2024-04-03 11:14:12,975 Thread-34  udi_interface      ERROR    udi_interface:write: Traceback (most recent call last):
2024-04-03 11:14:12,975 Thread-34  udi_interface      ERROR    udi_interface:write: File "/usr/local/lib/python3.9/threading.py", line 980, in _bootstrap_inner
2024-04-03 11:14:12,976 Thread-34  udi_interface      ERROR    udi_interface:write: self.run()
2024-04-03 11:14:12,976 Thread-34  udi_interface      ERROR    udi_interface:write: File "/usr/local/lib/python3.9/threading.py", line 917, in run
2024-04-03 11:14:12,977 Thread-34  udi_interface      ERROR    udi_interface:write: self._target(*self._args, **self._kwargs)
2024-04-03 11:14:12,977 Thread-34  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaPWSetupNode.py", line 37, in start
2024-04-03 11:14:12,977 Thread-34  udi_interface      ERROR    udi_interface:write: self.updateISYdrivers()
2024-04-03 11:14:12,977 Thread-34  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaPWSetupNode.py", line 45, in updateISYdrivers
2024-04-03 11:14:12,977 Thread-34  udi_interface      ERROR    udi_interface:write: self.node.setDriver('GV4', self.TPW.getTPW_touMode())
2024-04-03 11:14:12,978 Thread-34  udi_interface      ERROR    udi_interface:write: AttributeError
2024-04-03 11:14:12,978 Thread-34  udi_interface      ERROR    udi_interface:write: :
2024-04-03 11:14:12,978 Thread-34  udi_interface      ERROR    udi_interface:write: 'tesla_info' object has no attribute 'getTPW_touMode'
2024-04-03 11:14:12,985 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'address': 'setup_31966670', 'driver': 'GV3', 'value': '0', 'uom': 25, 'text': None}]}
2024-04-03 11:14:13,110 MQTT       udi_interface.interface INFO     interface:_message: Successfully set setup_31966670 :: GV1 to 31 UOM 51
2024-04-03 11:14:13,152 MQTT       udi_interface.interface INFO     interface:_message: Successfully set setup_31966670 :: GV2 to 2 UOM 25
2024-04-03 11:14:13,179 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_live_status: live_status: {'response': {'solar_power': 2040.0799560546875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 525.179931640625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1514.9000244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:14:13-07:00', 'wall_connectors': []}} 
2024-04-03 11:14:13,179 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: sitelive : {'2252180231966670': {'solar_power': 2040.0799560546875, 'percentage_charged': 100, 'backup_capable': True, 'battery_power': 0, 'load_power': 525.179931640625, 'grid_status': 'Active', 'grid_services_active': False, 'grid_power': -1514.9000244140625, 'grid_services_power': 0, 'generator_power': 0, 'island_status': 'on_grid', 'storm_mode_active': False, 'timestamp': '2024-04-03T11:14:13-07:00', 'wall_connectors': []}}
2024-04-03 11:14:13,179 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: tesla_get_site_info 
2024-04-03 11:14:13,179 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is expired since None. Initiating refresh.
2024-04-03 11:14:13,179 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Refresh token before: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJlbmVyZ3lfZGV2aWNlX2RhdGEiLCJlbmVyZ3lfY21kcyIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODQ4LCJpYXQiOjE3MTIxNjgwNDgsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDQ3fQ.bJkEA2oRy3i_s0M9Gd3LhhkamyzvALhlARSDPq-SEttdp31RcJDBTSk017t1Nru9D9nkuwJ6OaUonOLISzUjHI9-U7Fhtqv575MUU7Xp1-UhQGu2lJfSGK7ReSwrqbAe5rg8rXlrr5bg-sFQO5KYFz_Pl0IzPReojqO32dXlwibhiXQvSjN_DK4-GVCQuWSUrVYpWe9Rdvp2cPV6ftwQyWJf28cmcbBEOfcvWHGzX21edR_3U0LTHic7zIjfFpgq29R8IZxr7vfGCPJUMI8liBgoF__fXOdzaIx8Az8NKHvkLDuZHjFCG_VXkdGkz_qhJCH1pdb5Z-6eCvc2yY00Ng', 'refresh_token': 'NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg0OCwiaWF0IjoxNzEyMTY4MDQ4LCJhdXRoX3RpbWUiOjE3MTIxNjgwNDcsImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwidXBkYXRlZF9hdCI6MTY1NzUzNTA5MX0.O-MLFQsV2BlJ7eZcjp3UJ2cIOjiRVz9d6u96TINhLPuxcqOKXEV8maB1yxRipFqq6qCZupOU_fcqAhGsg_Ksu86KIpCyFRqx4goymLRZF_6V9FOP91XPCrbFKsxotkGh56alGWBoSOCcSPymuRzCWFjLhSi-pXSyhI9sCXY_3EZuzOb1XpAM91ZebCdnSjotg3sWsRixV9k3wDBS2yl29cwjkZfqGvQEZRsRWDUebcxUtRU2w4B32in3jEnaou_xw-ldvxm4kIN27twP2ULXCr2uIMIYaFifapFWUPZZrkvRlZuq-zlYdMdjCjI_Y7aYOt-wQPkWYeWeGPngCB9mjw', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer'}
2024-04-03 11:14:13,180 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh body grant_type=refresh_token&refresh_token=NA_2a9ed95b16b34f968ec3e764d8d7176cfe6ee960f33aacea815e5dbeab7cea0c&client_id=6e635ec38dc4-4d2a-a35e-f164b51f3d96&client_secret=ta-secret.S%40z5uUjp%2AsxoS2rS&redirect_uri=https%3A%2F%2Fmy.isy.io%2Fapi%2Fcloudlink%2Fredirect&scope=energy_device_data+energy_cmds+open_id+offline_access&audience=https%3A%2F%2Ffleet-api.prd.na.vn.cloud.tesla.com
2024-04-03 11:14:13,211 MQTT       udi_interface.interface INFO     interface:_message: Successfully set setup_31966670 :: GV3 to 0 UOM 25
2024-04-03 11:14:13,837 Thread-21  udi_interface      INFO     oauth:_oAuthTokensRefresh: Refreshing oAuth tokens successfully
2024-04-03 11:14:13,838 Thread-21  udi_interface      DEBUG    oauth:_oAuthTokensRefresh: Token refresh result [<class 'dict'>]: {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w', 'refresh_token': 'NA_b5a9a89e2c5df8322da1c2ef7eb1c55cd6e5202c91f579d4269a6c672aa732e2', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg1MywiaWF0IjoxNzEyMTY4MDUzLCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODA1M30.OvSIg1lYCGxJuvaPIqSj32MCGiE9LM7YiuGB9A4nQ0O3QBRxWYH9OC_0yxswTEa-u7NQb4mmG-tB9TS0Kj2NollLtiWkKSQLH_o9VnJi5zwTQtx5boB_gyxNT1JoppzM0kyjCp7GuvFmc0Nfm4PSeS_wXTGY7lnf4XFS1_tCF7oPhOv8UUAwywpdvauzwcayNsd7cgTJDC2f0PL6U60fBnoLi05fi7AmGIB0wia6HJn373xA0x0kAoPDuEkDKjtpEuSeaDCP4zsIi-DyhPva0vHIGxTSp9j1tvrwWjH6URb4KeOOVQj6B9hDvVr1e4grh5ti_vHDvbr7RuPgk8tX8Q', 'expires_in': 28800, 'token_type': 'Bearer'}
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM: load {'access_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w', 'refresh_token': 'NA_b5a9a89e2c5df8322da1c2ef7eb1c55cd6e5202c91f579d4269a6c672aa732e2', 'id_token': 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg1MywiaWF0IjoxNzEyMTY4MDUzLCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODA1M30.OvSIg1lYCGxJuvaPIqSj32MCGiE9LM7YiuGB9A4nQ0O3QBRxWYH9OC_0yxswTEa-u7NQb4mmG-tB9TS0Kj2NollLtiWkKSQLH_o9VnJi5zwTQtx5boB_gyxNT1JoppzM0kyjCp7GuvFmc0Nfm4PSeS_wXTGY7lnf4XFS1_tCF7oPhOv8UUAwywpdvauzwcayNsd7cgTJDC2f0PL6U60fBnoLi05fi7AmGIB0wia6HJn373xA0x0kAoPDuEkDKjtpEuSeaDCP4zsIi-DyhPva0vHIGxTSp9j1tvrwWjH6URb4KeOOVQj6B9hDvVr1e4grh5ti_vHDvbr7RuPgk8tX8Q', 'expires_in': 28800, 'state': '660d9c6dc7f72f1c33d2dedc', 'token_type': 'Bearer', 'expiry': '2024-04-03T19:14:13.838281'}
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking access_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking refresh_token / NA_b5a9a89e2c5df8322da1c2ef7eb1c55cd6e5202c91f579d4269a6c672aa732e2
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking id_token / eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhdWQiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImV4cCI6MTcxMjE5Njg1MywiaWF0IjoxNzEyMTY4MDUzLCJhbXIiOlsicHdkIiwibWZhIiwib3RwIl0sInVwZGF0ZWRfYXQiOjE2NTc1MzUwOTEsImF1dGhfdGltZSI6MTcxMjE2ODA1M30.OvSIg1lYCGxJuvaPIqSj32MCGiE9LM7YiuGB9A4nQ0O3QBRxWYH9OC_0yxswTEa-u7NQb4mmG-tB9TS0Kj2NollLtiWkKSQLH_o9VnJi5zwTQtx5boB_gyxNT1JoppzM0kyjCp7GuvFmc0Nfm4PSeS_wXTGY7lnf4XFS1_tCF7oPhOv8UUAwywpdvauzwcayNsd7cgTJDC2f0PL6U60fBnoLi05fi7AmGIB0wia6HJn373xA0x0kAoPDuEkDKjtpEuSeaDCP4zsIi-DyhPva0vHIGxTSp9j1tvrwWjH6URb4KeOOVQj6B9hDvVr1e4grh5ti_vHDvbr7RuPgk8tX8Q
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expires_in / 28800
2024-04-03 11:14:13,838 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking state / 660d9c6dc7f72f1c33d2dedc
2024-04-03 11:14:13,839 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking token_type / Bearer
2024-04-03 11:14:13,839 Thread-21  udi_interface.custom DEBUG    custom:load: CUSTOM:  -- checking expiry / 2024-04-03T19:14:13.838281
2024-04-03 11:14:13,840 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:13,840 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:13,840 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/site_info, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w'}, body =
2024-04-03 11:14:13,848 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:13,865 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:13,865 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:13,865 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:13,866 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:13,866 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:13,907 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:14,187 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_site_info: site_info: {'response': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}} 
2024-04-03 11:14:14,188 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: site info: {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:14:14,188 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: self.site_info {'2252180231966670': {'id': '1118431-00-L--TG11925500082D', 'site_name': 'Olgaard Saratoga', 'backup_reserve_percent': 31, 'default_real_mode': 'autonomous', 'installation_date': '2020-01-16T16:58:50-08:00', 'user_settings': {'go_off_grid_test_banner_enabled': False, 'storm_mode_enabled': True, 'powerwall_onboarding_settings_set': True, 'powerwall_tesla_electric_interested_in': False, 'vpp_tour_enabled': True, 'sync_grid_alert_enabled': True, 'breaker_alert_enabled': False}, 'components': {'solar': True, 'battery': True, 'grid': True, 'backup': True, 'gateway': 'hec', 'load_meter': True, 'tou_capable': True, 'storm_mode_capable': True, 'flex_energy_request_capable': False, 'car_charging_data_supported': False, 'off_grid_vehicle_charging_reserve_supported': True, 'vehicle_charging_performance_view_enabled': False, 'vehicle_charging_solar_offset_view_enabled': False, 'battery_solar_offset_view_enabled': True, 'solar_value_enabled': True, 'energy_value_header': 'Energy Value', 'energy_value_subheader': 'Estimated Value', 'energy_service_self_scheduling_enabled': True, 'show_grid_import_battery_source_cards': True, 'set_islanding_mode_enabled': True, 'wifi_commissioning_enabled': True, 'backup_time_remaining_enabled': True, 'battery_type': 'ac_powerwall', 'configurable': True, 'grid_services_enabled': False, 'gateways': [{'device_id': 'df538fef-0906-4eb7-ba84-15e766bd5582', 'din': '1118431-00-L--TG11925500082D', 'serial_number': 'TG11925500082D', 'part_number': '1118431-00-L', 'part_type': 9, 'part_name': 'Tesla Backup Gateway 1', 'is_active': True, 'site_id': '6328e895-ffe4-4ef1-9529-d56d3e4ef84c', 'firmware_version': '23.36.1 5a5db28d', 'updated_datetime': '2024-04-03T07:19:15.283Z'}], 'batteries': [{'device_id': 'f0333330-15d2-48cc-9c7b-22677e25130c', 'din': '1092170-03-J--TG119333002FSA', 'serial_number': 'TG119333002FSA', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}, {'device_id': '09ea25db-6077-45d0-8dcd-0b8ede5c1f65', 'din': '1092170-03-J--TG119333002FP1', 'serial_number': 'TG119333002FP1', 'part_number': '1092170-03-J', 'part_type': 2, 'part_name': 'Powerwall 2', 'nameplate_max_charge_power': 5000, 'nameplate_max_discharge_power': 5000, 'nameplate_energy': 13500}], 'customer_preferred_export_rule': 'pv_only', 'net_meter_mode': 'battery_ok', 'edit_setting_permission_to_export': True, 'edit_setting_grid_charging': True, 'edit_setting_energy_exports': True, 'system_alerts_enabled': True}, 'version': '23.36.1 5a5db28d', 'battery_count': 2, 'tou_settings': {'optimization_strategy': 'economics', 'schedule': [{'target': 'off_peak', 'week_days': [1, 0], 'start_seconds': 0, 'end_seconds': 54000}, {'target': 'peak', 'week_days': [1, 0], 'start_seconds': 57600, 'end_seconds': 75600}]}, 'tariff_id': 'PGE-EV2-A', 'nameplate_power': 10000, 'nameplate_energy': 27000, 'installation_time_zone': 'America/Los_Angeles', 'off_grid_vehicle_charging_reserve_percent': 75, 'max_site_meter_power_ac': 1000000000, 'min_site_meter_power_ac': -5.28656005859375, 'vpp_backup_reserve_percent': 31}}
2024-04-03 11:14:14,188 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : energy
2024-04-03 11:14:14,188 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'energy', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:12-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:14,188 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:13.838281, no need to refresh
2024-04-03 11:14:14,188 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:14,189 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:14,189 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=energy&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:12-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w'}, body =
2024-04-03 11:14:14,191 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:14,207 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:14,207 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:14,208 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:14,208 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:14,208 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:14,249 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:14,414 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (energy) = {'response': {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}}
2024-04-03 11:14:14,414 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 energy {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:14:14,415 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_energy_data: process_energy_data: {'serial_number': '1118431-00-L--TG11925500082D', 'period': 'day', 'installation_time_zone': 'America/Los_Angeles', 'time_series': [{'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}]}
2024-04-03 11:14:14,415 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:14,415 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : backup
2024-04-03 11:14:14,415 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'backup', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:14-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:14,415 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:13.838281, no need to refresh
2024-04-03 11:14:14,415 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:14,416 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:14,416 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=backup&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:14-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w'}, body =
2024-04-03 11:14:14,425 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:14,441 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:14,442 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:14,442 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:14,442 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:14,442 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:14,483 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:14,615 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (backup) = {'response': {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:14-07:00', 'next_end_date': '2024-04-02T11:14:14-07:00'}}
2024-04-03 11:14:14,615 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: process_history_data - 2252180231966670 backup {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:14-07:00', 'next_end_date': '2024-04-02T11:14:14-07:00'}
2024-04-03 11:14:14,615 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_backup_data: process_backup_data: {'events': [], 'events_count': 0, 'total_events': 0, 'next_start_date': '2022-04-03T11:14:14-07:00', 'next_end_date': '2024-04-02T11:14:14-07:00'}
2024-04-03 11:14:14,616 Thread-21  udi_interface      DEBUG    TeslaPWOauth:process_history_data: history data: {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:14,616 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: tesla_get_today_history : charge
2024-04-03 11:14:14,616 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: body = {'kind': 'charge', 'start_date': '2024-04-03T00:00:00-07:00', 'end_date': '2024-04-03T11:14:14-07:00', 'period': 'day', 'time_zone': 'PDT'}
2024-04-03 11:14:14,616 Thread-21  udi_interface      INFO     oauth:getAccessToken: Access tokens: Token is still valid until 2024-04-03T19:14:13.838281, no need to refresh
2024-04-03 11:14:14,616 Thread-21  udi_interface.custom DEBUG    custom:clear: CUSTOM: Clear  ...saving
2024-04-03 11:14:14,616 Thread-21  udi_interface.custom INFO     custom:_save: Sending data notices to Polyglot.
2024-04-03 11:14:14,616 Thread-21  udi_interface      DEBUG    TeslaOauth:_callApi:  call info url=https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:14-07:00&period=day&time_zone=PDT, header {'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InE0dHg3Q1UyYzI2V1BiemwxZjZjanM3QnhzayJ9.eyJpc3MiOiJodHRwczovL2F1dGgudGVzbGEuY29tL29hdXRoMi92My9udHMiLCJhenAiOiI2ZTYzNWVjMzhkYzQtNGQyYS1hMzVlLWYxNjRiNTFmM2Q5NiIsInN1YiI6IjYxMjY4Yzc5LWE1YzYtNGQ3NC1iY2QxLTk1MDg5ZDYyYTE3MiIsImF1ZCI6WyJodHRwczovL2ZsZWV0LWFwaS5wcmQubmEudm4uY2xvdWQudGVzbGEuY29tIiwiaHR0cHM6Ly9mbGVldC1hcGkucHJkLmV1LnZuLmNsb3VkLnRlc2xhLmNvbSIsImh0dHBzOi8vYXV0aC50ZXNsYS5jb20vb2F1dGgyL3YzL3VzZXJpbmZvIl0sInNjcCI6WyJvZmZsaW5lX2FjY2VzcyIsImVuZXJneV9kZXZpY2VfZGF0YSIsImVuZXJneV9jbWRzIl0sImFtciI6WyJwd2QiLCJtZmEiLCJvdHAiXSwiZXhwIjoxNzEyMTk2ODUzLCJpYXQiOjE3MTIxNjgwNTMsIm91X2NvZGUiOiJOQSIsImxvY2FsZSI6ImVuLVVTIiwiYXV0aF90aW1lIjoxNzEyMTY4MDUzLCJub25jZSI6bnVsbH0.dmd5EKS7hANRsZXxBx1o0ut82gghF121YS0Cuqe9NLKtSL9x3WUP-Qiv1vzT9Zat6ychyj1VTF4kOYNAuWf1OulgAp6BHmxKsFfCtVpdgF9ZAfdYOqckYHa9kkpNalEU6dk52NfdrA3osdMXE7r5myQlqy7KSHVkF7GOJocee4y22FYO1OeER2KPhVxnvYSHmfM_1iyBVtWTrjElbmHRjSBHuUK6YVv0vy9swqgYpGrFo6xNINp30FyGfSsI_Azt8IZDXuF-s24A_0KzBc0eN-QP1xe59J9wNZx8uB32dO7NnHTY9dSrZOWWCSj22E0QKz7D9NyajkkVTUgqQwB60w'}, body =
2024-04-03 11:14:14,618 Thread-1   udi_interface.interface DEBUG    interface:_send: PUBLISHING {'set': [{'key': 'notices', 'value': {}}]}
2024-04-03 11:14:14,634 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message custom
2024-04-03 11:14:14,635 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING custom
2024-04-03 11:14:14,635 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS custom message {'notices': '{}'} from Polyglot
2024-04-03 11:14:14,635 Command    udi_interface.interface DEBUG    interface:_handleInput: Process custom message notices from Polyglot
2024-04-03 11:14:14,635 Command    udi_interface.custom DEBUG    custom:load: CUSTOM: load {}
2024-04-03 11:14:14,676 MQTT       udi_interface.interface INFO     interface:_message: Successfully set key = notices
2024-04-03 11:14:14,772 Thread-21  udi_interface      ERROR    TeslaOauth:_callApi: Call GET https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:14-07:00&period=day&time_zone=PDT failed: 400 Client Error: Bad Request for url: https://fleet-api.prd.na.vn.cloud.tesla.com/api/1/energy_sites/2252180231966670/calendar_history?kind=charge&start_date=2024-04-03T00:00:00-07:00&end_date=2024-04-03T11:14:14-07:00&period=day&time_zone=PDT
2024-04-03 11:14:14,773 Thread-21  udi_interface      DEBUG    TeslaPWOauth:tesla_get_today_history: result (charge) = None
2024-04-03 11:14:14,774 Thread-21  udi_interface      DEBUG    TeslaPWOauth:teslaUpdateCloudData: history_data : {'2252180231966670': {'energy': {'today': {'timestamp': '2024-04-03T01:00:00-07:00', 'solar_energy_exported': 4638, 'generator_energy_exported': 0, 'grid_energy_imported': 16868, 'grid_services_energy_imported': 0.65625, 'grid_services_energy_exported': 0.4375, 'grid_energy_exported_from_solar': 2129.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 2, 'battery_energy_exported': 49, 'battery_energy_imported_from_grid': 9888, 'battery_energy_imported_from_solar': 41, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 6980, 'consumer_energy_imported_from_solar': 2467.5, 'consumer_energy_imported_from_battery': 47, 'consumer_energy_imported_from_generator': 0}, 'yesterday': {'timestamp': '2024-04-02T01:00:00-07:00', 'solar_energy_exported': 22844, 'generator_energy_exported': 0, 'grid_energy_imported': 20082, 'grid_services_energy_imported': 2.46875, 'grid_services_energy_exported': 23.4375, 'grid_energy_exported_from_solar': 16643.5, 'grid_energy_exported_from_generator': 0, 'grid_energy_exported_from_battery': 78.5, 'battery_energy_exported': 8545, 'battery_energy_imported_from_grid': 12620, 'battery_energy_imported_from_solar': 58, 'battery_energy_imported_from_generator': 0, 'consumer_energy_imported_from_grid': 7462, 'consumer_energy_imported_from_solar': 6142.5, 'consumer_energy_imported_from_battery': 8466.5, 'consumer_energy_imported_from_generator': 0}}, 'backup': {}}}
2024-04-03 11:14:14,774 Thread-21  udi_interface      DEBUG    TeslaInfo:teslaInitializeData: teslaInitializeData - 1 - grid status <enum 'GridStatus'> 
2024-04-03 11:14:14,774 Thread-21  udi_interface      DEBUG    TeslaPWStatusNode:updateISYdrivers: StatusNode updateISYdrivers
2024-04-03 11:14:14,774 Thread-21  udi_interface      ERROR    udi_interface:write: Exception in thread
2024-04-03 11:14:14,774 Thread-21  udi_interface      ERROR    udi_interface:write: Thread-21
2024-04-03 11:14:14,774 Thread-21  udi_interface      ERROR    udi_interface:write: :
2024-04-03 11:14:14,774 Thread-21  udi_interface      ERROR    udi_interface:write: Traceback (most recent call last):
2024-04-03 11:14:14,774 Thread-21  udi_interface      ERROR    udi_interface:write: File "/usr/local/lib/python3.9/threading.py", line 980, in _bootstrap_inner
2024-04-03 11:14:14,775 Thread-21  udi_interface      ERROR    udi_interface:write: self.run()
2024-04-03 11:14:14,775 Thread-21  udi_interface      ERROR    udi_interface:write: File "/usr/local/lib/python3.9/threading.py", line 917, in run
2024-04-03 11:14:14,776 Thread-21  udi_interface      ERROR    udi_interface:write: self._target(*self._args, **self._kwargs)
2024-04-03 11:14:14,776 Thread-21  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaPWStatusNode.py", line 61, in start
2024-04-03 11:14:14,776 Thread-21  udi_interface      ERROR    udi_interface:write: self.updateISYdrivers()
2024-04-03 11:14:14,776 Thread-21  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaPWStatusNode.py", line 101, in updateISYdrivers
2024-04-03 11:14:14,776 Thread-21  udi_interface      ERROR    udi_interface:write: logging.debug(('GV0: Battery Energy remiaining: {}'.format(self.TPW.getTPW_energy_remaining())))
2024-04-03 11:14:14,777 Thread-21  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaInfo.py", line 352, in getTPW_energy_remaining
2024-04-03 11:14:14,777 Thread-21  udi_interface      ERROR    udi_interface:write: energy_remain = self.TPWcloud.teslaExtractEnergyRemaining(self.site_id)
2024-04-03 11:14:14,777 Thread-21  udi_interface      ERROR    udi_interface:write: File "/var/polyglot/pg3/ns/0021b90261b7_17/TeslaPWOauth.py", line 496, in teslaExtractEnergyRemaining
2024-04-03 11:14:14,778 Thread-21  udi_interface      ERROR    udi_interface:write: return(self.site_live_info[site_id]['energy_left'])
2024-04-03 11:14:14,778 Thread-21  udi_interface      ERROR    udi_interface:write: KeyError
2024-04-03 11:14:14,778 Thread-21  udi_interface      ERROR    udi_interface:write: :
2024-04-03 11:14:14,778 Thread-21  udi_interface      ERROR    udi_interface:write: 'energy_left'
2024-04-03 11:14:16,794 MQTT       udi_interface.interface DEBUG    interface:_message: QUEUING incoming message stop
2024-04-03 11:14:16,794 Command    udi_interface.interface DEBUG    interface:_parseInput: DEQUEING stop
2024-04-03 11:14:16,794 Command    udi_interface.interface DEBUG    interface:_handleInput: PROCESS stop message {} from Polyglot
2024-04-03 11:14:16,794 Command    udi_interface.interface INFO     interface:_handleInput: Received stop from Polyglot... Shutting Down.
2024-04-03 11:14:16,794 Command    udi_interface.interface INFO     interface:stop: Disconnecting from MQTT... localhost:8883
2024-04-03 11:14:16,795 Command    udi_interface.interface INFO     interface:_disconnect: MQTT Graceful disconnection.
2024-04-03 11:14:16,795 MQTT       udi_interface.interface DEBUG    interface:_startMqtt: MQTT: Done
